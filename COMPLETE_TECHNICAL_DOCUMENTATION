# è¯­è¨€å­¦ä¹ ç³»ç»Ÿå®Œæ•´æŠ€æœ¯æ–‡æ¡£

## æ–‡æ¡£ç‰ˆæœ¬ï¼š1.0
## åˆ›å»ºæ—¥æœŸï¼š2025-11-12
## ç›®æ ‡å¼€å‘è€…ï¼šä»£ç æ„å»ºå›¢é˜Ÿ

---

# ç›®å½•

1. [é¡¹ç›®æ¦‚è¿°](#1-é¡¹ç›®æ¦‚è¿°)
2. [æ ¸å¿ƒç†å¿µä¸è®¾è®¡åŸåˆ™](#2-æ ¸å¿ƒç†å¿µä¸è®¾è®¡åŸåˆ™)
3. [ç³»ç»Ÿæ¶æ„](#3-ç³»ç»Ÿæ¶æ„)
4. [æ•°æ®ç»“æ„å®šä¹‰](#4-æ•°æ®ç»“æ„å®šä¹‰)
5. [è¯„åˆ†ç³»ç»Ÿè¯¦ç»†è§„åˆ™](#5-è¯„åˆ†ç³»ç»Ÿè¯¦ç»†è§„åˆ™)
6. [å­¦ä¹ æ¨¡å¼ä¸ç®—æ³•](#6-å­¦ä¹ æ¨¡å¼ä¸ç®—æ³•)
7. [ç”¨æˆ·ç•Œé¢è§„èŒƒ](#7-ç”¨æˆ·ç•Œé¢è§„èŒƒ)
8. [å®Œæ•´è¯æ±‡æ•°æ®](#8-å®Œæ•´è¯æ±‡æ•°æ®)
9. [æŠ€æœ¯æ ˆä¸å®ç°å»ºè®®](#9-æŠ€æœ¯æ ˆä¸å®ç°å»ºè®®)
10. [æµ‹è¯•ä¸éªŒè¯](#10-æµ‹è¯•ä¸éªŒè¯)

---

# 1. é¡¹ç›®æ¦‚è¿°

## 1.1 é¡¹ç›®åç§°
**Language Learning System - æ–‡åŒ–ç†è§£å¯¼å‘çš„è¯­è¨€å­¦ä¹ å¹³å°**

## 1.2 é¡¹ç›®ç›®æ ‡
åˆ›å»ºä¸€ä¸ªè¯­è¨€å­¦ä¹ ç³»ç»Ÿï¼Œä¸é€šè¿‡ç¿»è¯‘ä½œä¸ºå­¦ä¹ ä¸­ä»‹ï¼Œè€Œæ˜¯é€šè¿‡ç†è§£æ¦‚å¿µåœ¨ä¸¤ç§æ–‡åŒ–ä¸­çš„å­˜åœ¨æ–¹å¼æ¥å­¦ä¹ è¯­è¨€ã€‚

## 1.3 æ ¸å¿ƒç‰¹ç‚¹
- **å»ç¿»è¯‘åŒ–**ï¼šç”¨ç›®æ ‡è¯­è¨€çš„ç®€å•ç»“æ„è§£é‡Šå¤æ‚æ¦‚å¿µ
- **æ–‡åŒ–è·ç¦»è¯„åˆ†**ï¼šåŸºäºå«ä¹‰ã€è§†è§‰ã€è¯»éŸ³ä¸‰ç»´åº¦è®¡ç®—å­¦ä¹ éš¾åº¦
- **æ¨¡ç³Šæ¦‚å¿µå¤„ç†**ï¼šæ‰¿è®¤æŸäº›æ¦‚å¿µåœ¨ä¸¤ç§è¯­è¨€ä¸­æ²¡æœ‰æ¸…æ™°å¯¹åº”
- **è‡ªé€‚åº”å­¦ä¹ **ï¼šæ ¹æ®ç”¨æˆ·åé¦ˆåŠ¨æ€è°ƒæ•´éš¾åº¦å’Œå‘ˆç°æ–¹å¼

## 1.4 ç›®æ ‡ç”¨æˆ·
- ä¸»ç”¨æˆ·ï¼šé¡¹ç›®åˆ›å»ºè€…ï¼ˆä¸­æ–‡æ¯è¯­ï¼Œå­¦ä¹ è‹±æ–‡ï¼‰
- å¯æ‰©å±•ï¼šå…¶ä»–ä¸­æ–‡æ¯è¯­è‹±è¯­å­¦ä¹ è€…

## 1.5 å¼€å‘ä¼˜å…ˆçº§
1. **Phase 1**ï¼šæ ¸å¿ƒè¯„åˆ†ç³»ç»Ÿ + åŸºç¡€å­¦ä¹ æµç¨‹
2. **Phase 2**ï¼šæ¨¡ç³Šè¯ç»„äº¤äº’ + ç”¨æˆ·åé¦ˆç³»ç»Ÿ
3. **Phase 3**ï¼šç»Ÿè®¡åˆ†æ + é«˜çº§åŠŸèƒ½

---

# 2. æ ¸å¿ƒç†å¿µä¸è®¾è®¡åŸåˆ™

## 2.1 ç†å¿µåŸºç¡€

### åŸåˆ™1ï¼šæ–‡åŒ–å³è¯­è¨€
```
"æ–‡åŒ–æ˜¯è¯­è¨€çš„å…·è±¡åŒ–ï¼Œéš”ç¦»æ–‡åŒ–åŸºæœ¬éš”ç¦»è¯­è¨€"
```
- å­¦ä¹ è¯­è¨€ = ç†è§£æ–‡åŒ–
- ç¿»è¯‘ä¼šæ‰­æ›²æ–‡åŒ–å†…æ¶µ
- ç³»ç»Ÿè®¾è®¡å›´ç»•æ–‡åŒ–å·®å¼‚å±•å¼€

### åŸåˆ™2ï¼šæ¦‚å¿µ > å•è¯
```
å­¦ä¹ å•ä½ = æ¦‚å¿µï¼ˆconceptï¼‰ï¼Œä¸æ˜¯å•è¯ï¼ˆwordï¼‰
```
- æ¸…æ™°æ¦‚å¿µï¼štable â†” æ¡Œå­ï¼ˆä¸€å¯¹ä¸€ï¼‰
- æ¨¡ç³Šæ¦‚å¿µï¼š{fate/destiny/serendipity} â†” {å‘½è¿/å®¿å‘½/ç¼˜åˆ†}ï¼ˆå¤šå¯¹å¤šï¼‰

### åŸåˆ™3ï¼šå¯¹æ¯”å­¦ä¹ 
```
è®°å¿†ä¸æ˜¯é‡å¤ï¼Œæ˜¯å¯¹æ¯”ã€å…³è”ã€ç½‘çŠ¶ç”Ÿé•¿
```
- è·ç¦»ç›¸è¿‘çš„æ¦‚å¿µè¿ç»­å‘ˆç°
- åˆ¶é€ å¯¹æ¯”ä»¥åŠ æ·±ç†è§£
- ä¸‰å±‚å…³è”ï¼šæ¦‚å¿µç»„å†…ã€æ¦‚å¿µé—´ã€ç”¨æˆ·åé¦ˆ

### åŸåˆ™4ï¼šè´Ÿè´£ä»»çš„é€‰æ‹©
```
ç”¨æˆ·ä¸ºè‡ªå·±çš„å­¦ä¹ è´Ÿè´£ï¼Œç³»ç»Ÿä¸ºè®¾è®¡è´Ÿè´£
```
- ä¸æ˜¯èƒŒå•è¯å·¥å…·
- æ˜¯æ–‡åŒ–ç†è§£å·¥å…·
- ç”¨æˆ·åé¦ˆé©±åŠ¨ç³»ç»Ÿè¿›åŒ–

## 2.2 è®¾è®¡çº¦æŸ

### çº¦æŸ1ï¼šä¸ªäººåŒ–
- ç³»ç»Ÿä¸ºå•ä¸€ç”¨æˆ·è®¾è®¡ï¼ˆåˆæœŸï¼‰
- ä¸éœ€è¦ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ
- æ•°æ®å­˜å‚¨æœ¬åœ°ä¼˜å…ˆ

### çº¦æŸ2ï¼šå»æ¯è¯­ä¾èµ–
- é»˜è®¤ä¸æ˜¾ç¤ºä¸­æ–‡è§£é‡Š
- ç”¨è‹±æ–‡è§£é‡Šè‹±æ–‡
- ä¸­æ–‡ä»…ä½œä¸ºå¯é€‰è¾…åŠ©

### çº¦æŸ3ï¼šè´¨é‡ > æ•°é‡
- å®å¯æ·±å…¥ç†è§£100ä¸ªæ¦‚å¿µ
- ä¸è¦è‚¤æµ…èƒŒè¯µ1000ä¸ªå•è¯

---

# 3. ç³»ç»Ÿæ¶æ„

## 3.1 æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ç”¨æˆ·ç•Œé¢å±‚ï¼ˆReactï¼‰                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è®¾ç½®ç•Œé¢  â”‚  å­¦ä¹ ç•Œé¢  â”‚  ç»Ÿè®¡ç•Œé¢  â”‚  è¯æ±‡ç®¡ç†ç•Œé¢   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   åº”ç”¨é€»è¾‘å±‚ï¼ˆJSï¼‰                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å­¦ä¹ æ¨¡å¼æ§åˆ¶  â”‚  è¯„åˆ†ç³»ç»Ÿ  â”‚  éå†ç®—æ³•  â”‚  åé¦ˆå¤„ç†   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®å±‚ï¼ˆJSON/SQLiteï¼‰              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è¯æ±‡åº“  â”‚  è¯„åˆ†æ•°æ®  â”‚  ç”¨æˆ·æ•°æ®  â”‚  é…ç½®æ•°æ®         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 3.2 æ¨¡å—åˆ’åˆ†

### æ¨¡å—1ï¼šè¯æ±‡æ•°æ®ç®¡ç†
**èŒè´£**ï¼š
- è¯æ±‡è¡¨å¯¼å…¥ä¸å­˜å‚¨
- æ¦‚å¿µï¼ˆæ¸…æ™°/æ¨¡ç³Šï¼‰åˆ†ç±»
- ä¸­è‹±æ–‡å¯¹åº”å…³ç³»ç»´æŠ¤

**è¾“å…¥**ï¼š
- Oxford 3000è¯æ±‡è¡¨
- AWLå­¦æœ¯è¯æ±‡è¡¨
- GRE 357è¯æ±‡è¡¨

**è¾“å‡º**ï¼š
- æ ‡å‡†åŒ–æ¦‚å¿µæ•°æ®ç»“æ„

---

### æ¨¡å—2ï¼šè¯„åˆ†ç³»ç»Ÿå¼•æ“
**èŒè´£**ï¼š
- è®¡ç®—è·¨è¯­è¨€è·ç¦»ï¼ˆä¸‰ç»´ï¼‰
- ç”Ÿæˆéš¾åº¦è¯„åˆ†
- è¯†åˆ«æ¨¡ç³Šæ¦‚å¿µç»„

**è¾“å…¥**ï¼š
- æ¦‚å¿µæ•°æ®
- ä¸­è‹±æ–‡è¯­è¨€ç‰¹å¾

**è¾“å‡º**ï¼š
- æ¯ä¸ªæ¦‚å¿µçš„è·ç¦»å€¼ï¼ˆ0-1ï¼‰
- æ¨¡ç³Šç»„æ ‡è¯†
- ç›¸ä¼¼åº¦çŸ©é˜µ

---

### æ¨¡å—3ï¼šå­¦ä¹ åºåˆ—ç”Ÿæˆå™¨
**èŒè´£**ï¼š
- ä¸»é¢˜æ¨¡å¼ï¼šæŒ‰è¯æ±‡è¡¨æ’åº
- æ··åˆæ¨¡å¼ï¼šè·ç¦»å€¼å›¾éå†
- éš¾åº¦åˆ†å¸ƒæ§åˆ¶

**è¾“å…¥**ï¼š
- è¯„åˆ†æ•°æ®
- ç”¨æˆ·é…ç½®ï¼ˆéš¾åº¦æ¯”ä¾‹ã€æ¨¡å¼é€‰æ‹©ï¼‰
- é”™è¯¯è¯pool

**è¾“å‡º**ï¼š
- å­¦ä¹ åºåˆ—ï¼ˆæ¦‚å¿µIDåˆ—è¡¨ï¼‰

---

### æ¨¡å—4ï¼šå†…å®¹å‘ˆç°å¼•æ“
**èŒè´£**ï¼š
- ç”Ÿæˆ/è·å–è‹±æ–‡è§£é‡Š
- æ¨¡ç³Šè¯ç»„äº¤äº’é€»è¾‘
- ç›¸å…³è¯å¯¹æ¯”æ˜¾ç¤º

**è¾“å…¥**ï¼š
- å½“å‰æ¦‚å¿µ
- ç”¨æˆ·æ°´å¹³ä¼°æµ‹

**è¾“å‡º**ï¼š
- æ ¼å¼åŒ–å­¦ä¹ å†…å®¹

---

### æ¨¡å—5ï¼šç”¨æˆ·åé¦ˆå¤„ç†
**èŒè´£**ï¼š
- æ¥æ”¶å¥½/æ­£å¸¸/å£è¯„åˆ†
- æ›´æ–°æ¦‚å¿µéš¾åº¦
- è°ƒæ•´å­¦ä¹ åºåˆ—

**è¾“å…¥**ï¼š
- ç”¨æˆ·è¯„åˆ†
- æ¦‚å¿µID

**è¾“å‡º**ï¼š
- æ›´æ–°åçš„ä¸ªäººåŒ–è·ç¦»å€¼
- é”™è¯¯poolæ›´æ–°

---

### æ¨¡å—6ï¼šè‡ªé€‚åº”æ°´å¹³ç³»ç»Ÿ
**èŒè´£**ï¼š
- åˆå§‹è¯„æµ‹
- åŠ¨æ€æ°´å¹³ä¼°æµ‹
- è‹±æ–‡è§£é‡Šå¤æ‚åº¦è°ƒæ•´

**è¾“å…¥**ï¼š
- ç”¨æˆ·åé¦ˆå†å²
- æ¦‚å¿µéš¾åº¦åˆ†å¸ƒ

**è¾“å‡º**ï¼š
- å½“å‰æ°´å¹³å€¼ï¼ˆ0-1ï¼‰
- è§£é‡Šå¤æ‚åº¦ç­‰çº§

---

## 3.3 æ•°æ®æµå›¾

```
ç”¨æˆ·å¯åŠ¨
   â†“
é€‰æ‹©å­¦ä¹ æ¨¡å¼ï¼ˆä¸»é¢˜/æ··åˆï¼‰
   â†“
é…ç½®å‚æ•°ï¼ˆéš¾åº¦åˆ†å¸ƒã€ç•ªèŒ„é’Ÿç­‰ï¼‰
   â†“
ã€å­¦ä¹ åºåˆ—ç”Ÿæˆå™¨ã€‘ç”Ÿæˆæ¦‚å¿µåºåˆ—
   â†“
å¾ªç¯å¼€å§‹ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â†“                  â”‚
ã€å†…å®¹å‘ˆç°å¼•æ“ã€‘      â”‚
æ˜¾ç¤ºå½“å‰æ¦‚å¿µ          â”‚
   â†“                  â”‚
ç”¨æˆ·è¯„åˆ†ï¼ˆå¥½/æ­£å¸¸/å£ï¼‰â”‚
   â†“                  â”‚
ã€åé¦ˆå¤„ç†ã€‘          â”‚
æ›´æ–°æ•°æ®              â”‚
   â†“                  â”‚
ä¸‹ä¸€ä¸ªæ¦‚å¿µ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†“
Sessionç»“æŸ
   â†“
æ˜¾ç¤ºç»Ÿè®¡
```

---

# 4. æ•°æ®ç»“æ„å®šä¹‰

## 4.1 æ¦‚å¿µæ•°æ®ç»“æ„

```javascript
/**
 * æ¦‚å¿µï¼ˆConceptï¼‰- ç³»ç»Ÿçš„åŸºæœ¬å­¦ä¹ å•ä½
 */
const Concept = {
  // === åŸºæœ¬ä¿¡æ¯ ===
  id: "string",              // å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œå¦‚ "concept_0001"
  type: "clear" | "fuzzy",   // ç±»å‹ï¼šæ¸…æ™°æ¦‚å¿µ | æ¨¡ç³Šæ¦‚å¿µ
  
  // === æ¸…æ™°æ¦‚å¿µä¸“å±å­—æ®µ ===
  english: "string",         // è‹±æ–‡è¯ï¼ˆæ¸…æ™°æ¦‚å¿µï¼‰
  partOfSpeech: "string",    // è¯æ€§ï¼šn./v./adj./adv.ç­‰
  chinese: ["string"],       // ä¸­æ–‡å¯¹åº”è¯åˆ—è¡¨
  
  // === æ¨¡ç³Šæ¦‚å¿µä¸“å±å­—æ®µ ===
  fuzzyGroupId: "string",    // æ¨¡ç³Šç»„IDï¼Œå¦‚ "MG-001"
  englishWords: [{           // è‹±æ–‡è¯åˆ—è¡¨ï¼ˆæ¨¡ç³Šæ¦‚å¿µï¼‰
    word: "string",
    partOfSpeech: "string"
  }],
  chineseWords: ["string"],  // ä¸­æ–‡è¯åˆ—è¡¨
  
  // === è¯„åˆ†æ•°æ® ===
  scores: {
    meaningDistance: 0.0,    // å«ä¹‰è·ç¦» [0-1]
    visualDistance: 0.0,     // è§†è§‰è·ç¦» [0-1]
    phoneticDistance: 0.0,   // è¯»éŸ³è·ç¦» [0-1]
    overallDistance: 0.0,    // ç»¼åˆè·ç¦» [0-1]
    variance: 0.0            // æ¨¡ç³Šç»„ç¦»æ•£åº¦ï¼ˆä»…æ¨¡ç³Šæ¦‚å¿µï¼‰
  },
  
  // === å…ƒæ•°æ® ===
  source: ["string"],        // æ¥æºè¯æ±‡è¡¨ï¼Œå¦‚ ["oxford_3000", "AWL"]
  level: "A1" | "A2" | "B1" | "B2" | "C1" | "C2",
  category: "string",        // åˆ†ç±»ï¼šdaily, academic, businessç­‰
  
  // === ç”¨æˆ·æ•°æ® ===
  userScores: {
    personalDistance: 0.0,   // ä¸ªäººåŒ–è·ç¦»ï¼ˆåˆå§‹=overallDistanceï¼‰
    feedbackHistory: [{      // åé¦ˆå†å²
      timestamp: "ISO_DATE",
      rating: "good" | "normal" | "bad"
    }],
    lastReviewed: "ISO_DATE",
    reviewCount: 0
  }
};
```

### ç¤ºä¾‹ï¼šæ¸…æ™°æ¦‚å¿µ

```javascript
{
  id: "concept_0042",
  type: "clear",
  english: "table",
  partOfSpeech: "n.",
  chinese: ["æ¡Œå­", "è¡¨æ ¼"],
  scores: {
    meaningDistance: 0.1,
    visualDistance: 0.85,
    phoneticDistance: 0.90,
    overallDistance: 0.62
  },
  source: ["oxford_3000"],
  level: "A1",
  category: "daily",
  userScores: {
    personalDistance: 0.62,
    feedbackHistory: [],
    lastReviewed: null,
    reviewCount: 0
  }
}
```

### ç¤ºä¾‹ï¼šæ¨¡ç³Šæ¦‚å¿µ

```javascript
{
  id: "concept_MG001",
  type: "fuzzy",
  fuzzyGroupId: "MG-001",
  englishWords: [
    { word: "fate", partOfSpeech: "n." },
    { word: "destiny", partOfSpeech: "n." },
    { word: "serendipity", partOfSpeech: "n." },
    { word: "fortune", partOfSpeech: "n." }
  ],
  chineseWords: ["å‘½è¿", "å®¿å‘½", "å¤©å‘½", "ç¼˜åˆ†", "æœºç¼˜å·§åˆ", "è¿æ°”"],
  scores: {
    meaningDistance: 0.65,    // ç»„å¹³å‡
    visualDistance: 0.60,
    phoneticDistance: 0.85,
    overallDistance: 0.62,
    variance: 0.12            // ç¦»æ•£åº¦
  },
  source: ["GRE357", "oxford_3000"],
  level: "C1",
  category: "abstract",
  userScores: {
    personalDistance: 0.62,
    feedbackHistory: [],
    lastReviewed: null,
    reviewCount: 0
  }
}
```

---

## 4.2 å­¦ä¹ Sessionæ•°æ®ç»“æ„

```javascript
const LearningSession = {
  sessionId: "string",
  startTime: "ISO_DATE",
  endTime: "ISO_DATE",
  
  // é…ç½®
  mode: "topic" | "mixed",
  topicCategory: "string",   // ä¸»é¢˜æ¨¡å¼ï¼šé€‰æ‹©çš„ç±»åˆ«
  difficultyDistribution: {  // æ··åˆæ¨¡å¼ï¼šéš¾åº¦åˆ†å¸ƒ
    low: 0.3,                // 30%ä½éš¾åº¦ [0-0.33]
    medium: 0.5,             // 50%ä¸­éš¾åº¦ [0.33-0.66]
    high: 0.2                // 20%é«˜éš¾åº¦ [0.66-1.0]
  },
  includeErrors: true,       // æ˜¯å¦åŒ…å«é”™è¯¯è¯
  pomodoroEnabled: true,     // ç•ªèŒ„é’Ÿ
  pomodoroConfig: {
    workMinutes: 25,
    breakMinutes: 5
  },
  
  // å­¦ä¹ åºåˆ—
  conceptSequence: ["concept_id"],
  currentIndex: 0,
  
  // ç»Ÿè®¡
  stats: {
    totalConcepts: 0,
    completed: 0,
    goodCount: 0,
    normalCount: 0,
    badCount: 0
  }
};
```

---

## 4.3 ç”¨æˆ·é…ç½®æ•°æ®ç»“æ„

```javascript
const UserConfig = {
  // è¯­è¨€è®¾ç½®
  learningLanguage: "en",    // å­¦ä¹ çš„è¯­è¨€
  nativeLanguage: "zh",      // æ¯è¯­
  showNativeExplanation: false, // æ˜¯å¦æ˜¾ç¤ºæ¯è¯­è§£é‡Š
  
  // è¯æ±‡è¡¨ç®¡ç†
  enabledVocabLists: [
    "oxford_3000_a1a2",
    "oxford_3000_b1b2",
    "AWL",
    "GRE357"
  ],
  
  // å­¦ä¹ åå¥½
  defaultMode: "mixed",
  defaultDifficulty: {
    low: 0.3,
    medium: 0.5,
    high: 0.2
  },
  
  // å½“å‰æ°´å¹³
  estimatedLevel: {
    overall: 0.5,            // [0-1]
    lastUpdated: "ISO_DATE"
  }
};
```

---

## 4.4 è¯„åˆ†ç³»ç»Ÿé…ç½®

```javascript
const ScoringConfig = {
  // æƒé‡é…ç½®
  weights: {
    meaning: 0.40,           // å«ä¹‰è·ç¦»æƒé‡
    visual: 0.30,            // è§†è§‰è·ç¦»æƒé‡
    phonetic: 0.30           // è¯»éŸ³è·ç¦»æƒé‡
  },
  
  // éš¾åº¦åŒºé—´å®šä¹‰
  difficultyRanges: {
    low: [0, 0.33],
    medium: [0.33, 0.66],
    high: [0.66, 1.0]
  },
  
  // æ¨¡ç³Šç»„ç¦»æ•£åº¦è°ƒæ•´
  fuzzyVarianceMultiplier: 0.3  // variance Ã— 0.3 åŠ åˆ°æœ€ç»ˆè·ç¦»
};
```

---

**æ–‡æ¡£ç»§ç»­åœ¨ä¸‹ä¸€ä¸ªæ–‡ä»¶...**
# è¯­è¨€å­¦ä¹ ç³»ç»Ÿå®Œæ•´æŠ€æœ¯æ–‡æ¡£ - ç¬¬äºŒéƒ¨åˆ†

# 5. è¯„åˆ†ç³»ç»Ÿè¯¦ç»†è§„åˆ™

## 5.1 è¯„åˆ†ç³»ç»Ÿæ¦‚è¿°

è¯„åˆ†ç³»ç»Ÿçš„æ ¸å¿ƒä»»åŠ¡ï¼š**é‡åŒ–"ä»ä¸­æ–‡æ¦‚å¿µè½¬æ¢åˆ°è‹±æ–‡æ¦‚å¿µ"çš„è®¤çŸ¥æˆæœ¬**

### ä¸‰ç»´è¯„åˆ†æ¨¡å‹

```
æ€»è·ç¦» = wâ‚Ã—å«ä¹‰è·ç¦» + wâ‚‚Ã—è§†è§‰è·ç¦» + wâ‚ƒÃ—è¯»éŸ³è·ç¦»

é»˜è®¤æƒé‡ï¼š
wâ‚ = 0.40 (å«ä¹‰)
wâ‚‚ = 0.30 (è§†è§‰)
wâ‚ƒ = 0.30 (è¯»éŸ³)
```

---

## 5.2 å«ä¹‰è·ç¦»è®¡ç®—

### 5.2.1 æ¸…æ™°æ¦‚å¿µçš„å«ä¹‰è·ç¦»

**å®šä¹‰**ï¼šæ¦‚å¿µåœ¨ä¸¤ç§æ–‡åŒ–ä¸­çš„è¯­ä¹‰å¯¹åº”ç¨‹åº¦

**è¯„åˆ†æ ‡å‡†**ï¼š

| è·ç¦»å€¼ | æè¿° | ç¤ºä¾‹ |
|--------|------|------|
| 0.0-0.2 | å‡ ä¹å®Œç¾å¯¹åº” | tableâ†”æ¡Œå­, dogâ†”ç‹— |
| 0.2-0.4 | å¯¹åº”æ¸…æ™°ï¼Œæœ‰ç»†å¾®å·®å¼‚ | bookâ†”ä¹¦, waterâ†”æ°´ |
| 0.4-0.6 | æœ‰å¯¹åº”ä½†è¾¹ç•Œä¸åŒ | privacyâ†”éšç§, freedomâ†”è‡ªç”± |
| 0.6-0.8 | éƒ¨åˆ†å¯¹åº”ï¼Œæ–‡åŒ–å·®å¼‚æ˜æ˜¾ | fairâ†”å…¬å¹³, justiceâ†”æ­£ä¹‰ |
| 0.8-1.0 | å‡ ä¹æ— å¯¹åº”ï¼Œæ–‡åŒ–ç‹¬æœ‰ | entrepreneurâ†”ä¼ä¸šå®¶ |

**è®¡ç®—æ–¹æ³•**ï¼š

å¯¹äºæ¸…æ™°æ¦‚å¿µï¼Œä½¿ç”¨ä»¥ä¸‹å› ç´ ç»¼åˆåˆ¤æ–­ï¼š

1. **ç›´æ¥å¯¹åº”æ€§**ï¼ˆ40%ï¼‰
   - æ˜¯å¦æœ‰æ˜ç¡®çš„ä¸€å¯¹ä¸€ç¿»è¯‘ï¼Ÿ
   - æ—¥å¸¸ä½¿ç”¨ä¸­æ˜¯å¦å¯äº’æ¢ï¼Ÿ

2. **ä½¿ç”¨è¯­å¢ƒé‡å åº¦**ï¼ˆ30%ï¼‰
   - åœ¨ç›¸ä¼¼æƒ…å¢ƒä¸‹ä½¿ç”¨çš„é¢‘ç‡
   - æ­é…è¯çš„ç›¸ä¼¼æ€§

3. **æ–‡åŒ–å†…æ¶µå·®å¼‚**ï¼ˆ30%ï¼‰
   - å†å²æ–‡åŒ–èƒŒæ™¯å·®å¼‚
   - æƒ…æ„Ÿè‰²å½©å·®å¼‚
   - ç¤¾ä¼šè§„èŒƒå·®å¼‚

**å®ç°å»ºè®®**ï¼š

```javascript
function calculateMeaningDistance(englishWord, chineseWords) {
  // åŸºç¡€è¯„åˆ†ï¼šä½¿ç”¨é¢„è®­ç»ƒçš„è·¨è¯­è¨€è¯å‘é‡
  // å¦‚ï¼šå¤šè¯­è¨€BERTã€XLM-Rç­‰æ¨¡å‹
  const semanticSimilarity = getSemanticSimilarity(englishWord, chineseWords);
  
  // æ–‡åŒ–è·ç¦»ï¼šåŸºäºäººå·¥æ ‡æ³¨æˆ–æ–‡åŒ–çŸ¥è¯†å›¾è°±
  const culturalDistance = getCulturalDistance(englishWord, chineseWords);
  
  // ä½¿ç”¨é¢‘ç‡å¯¹æ¯”
  const usageAlignment = getUsageAlignment(englishWord, chineseWords);
  
  return (
    (1 - semanticSimilarity) * 0.4 +
    culturalDistance * 0.3 +
    (1 - usageAlignment) * 0.3
  );
}
```

**åˆæœŸå®ç°ï¼ˆç®€åŒ–ç‰ˆï¼‰**ï¼š

å¦‚æœæ— æ³•ä½¿ç”¨NLPæ¨¡å‹ï¼Œå¯ä»¥äººå·¥æ ‡æ³¨å¸¸è§è¯ï¼š

```javascript
// é¢„æ ‡æ³¨çš„å«ä¹‰è·ç¦»è¡¨
const MEANING_DISTANCE_MAP = {
  // å…·ä½“ç‰©å“ï¼š0.0-0.2
  "table": 0.1,
  "chair": 0.1,
  "book": 0.15,
  
  // æŠ½è±¡æ¦‚å¿µï¼š0.4-0.6
  "freedom": 0.55,
  "privacy": 0.50,
  "culture": 0.45,
  
  // æ–‡åŒ–ç‰¹å®šï¼š0.6-0.8
  "entrepreneur": 0.75,
  "fair": 0.65,
  
  // ... æ›´å¤šæ ‡æ³¨
};

function getMeaningDistance(word) {
  return MEANING_DISTANCE_MAP[word] || 0.5; // é»˜è®¤ä¸­ç­‰è·ç¦»
}
```

---

### 5.2.2 æ¨¡ç³Šæ¦‚å¿µç»„çš„å«ä¹‰è·ç¦»

**å®šä¹‰**ï¼šæ¨¡ç³Šæ¦‚å¿µç»„å†…æ‰€æœ‰ä¸­è‹±é…å¯¹çš„å¹³å‡è¯­ä¹‰è·ç¦»

**è®¡ç®—æ­¥éª¤**ï¼š

1. åˆ—å‡ºç»„å†…æ‰€æœ‰ä¸­è‹±é…å¯¹
2. è®¡ç®—æ¯ä¸ªé…å¯¹çš„å«ä¹‰è·ç¦»
3. æ±‚å¹³å‡å€¼
4. æ ¹æ®ç¦»æ•£åº¦è°ƒæ•´

**ç¤ºä¾‹ï¼šå‘½è¿ç»„ï¼ˆMG-001ï¼‰**

```javascript
const fuzzyGroup = {
  english: ["fate", "destiny", "serendipity", "fortune", "luck"],
  chinese: ["å‘½è¿", "å®¿å‘½", "å¤©å‘½", "ç¼˜åˆ†", "è¿æ°”"]
};

// æ‰€æœ‰é…å¯¹ï¼ˆ5Ã—5=25ä¸ªï¼‰
const pairings = [
  { en: "fate", zh: "å‘½è¿", distance: 0.55 },
  { en: "fate", zh: "å®¿å‘½", distance: 0.50 },
  { en: "fate", zh: "å¤©å‘½", distance: 0.60 },
  { en: "fate", zh: "ç¼˜åˆ†", distance: 0.70 },
  { en: "fate", zh: "è¿æ°”", distance: 0.75 },
  
  { en: "destiny", zh: "å‘½è¿", distance: 0.52 },
  { en: "destiny", zh: "å®¿å‘½", distance: 0.48 },
  // ... å…±25ä¸ªé…å¯¹
];

// å¹³å‡è·ç¦»
const avgMeaningDistance = 
  pairings.reduce((sum, p) => sum + p.distance, 0) / pairings.length;
// = 0.60

// æ ‡å‡†å·®ï¼ˆç¦»æ•£åº¦ï¼‰
const variance = calculateVariance(pairings.map(p => p.distance));
// = 0.12
```

---

## 5.3 è§†è§‰è·ç¦»è®¡ç®—

### 5.3.1 ç›®æ ‡

é‡åŒ–ï¼šè®°å¿†å­—å½¢çš„è§†è§‰è´Ÿæ‹…å·®å¼‚

### 5.3.2 è®¡ç®—å› ç´ 

#### A. ä¸­æ–‡å­—å½¢å¤æ‚åº¦

**ç¬”ç”»æ•°**ï¼š
```
ç®€å•ï¼š1-5ç¬”ï¼ˆä¸€ã€äºŒã€äººï¼‰
ä¸­ç­‰ï¼š6-12ç¬”ï¼ˆå­¦ã€å¥½ã€é—®ï¼‰
å¤æ‚ï¼š13+ç¬”ï¼ˆé¬±ã€å›ã€é¾˜ï¼‰
```

**ç»“æ„å¤æ‚åº¦**ï¼š
```
ç‹¬ä½“å­—ï¼šç®€å•ï¼ˆæ—¥ã€æœˆã€å±±ï¼‰
å·¦å³ç»“æ„ï¼šä¸­ç­‰ï¼ˆå¥½ã€æ˜ã€æ±Ÿï¼‰
ä¸Šä¸‹ç»“æ„ï¼šä¸­ç­‰ï¼ˆå­—ã€å®‰ã€èŠ±ï¼‰
åŒ…å›´ç»“æ„ï¼šå¤æ‚ï¼ˆå›½ã€å›°ã€å›šï¼‰
ä¸‰ä¸ªä»¥ä¸Šéƒ¨ä»¶ï¼šå¤æ‚ï¼ˆç³Šã€æ‡¿ã€è¬‡ï¼‰
```

**å¸¸è§åº¦**ï¼š
- å¸¸ç”¨3500å­—ï¼šç†Ÿæ‚‰åº¦é«˜ï¼Œé™ä½è´Ÿæ‹…
- ç½•è§å­—ï¼šå¢åŠ è´Ÿæ‹…

**ç»¼åˆå…¬å¼**ï¼š

```javascript
function chineseVisualComplexity(char) {
  const strokeCount = getStrokeCount(char);
  const structure = getStructure(char); // "simple" | "medium" | "complex"
  const frequency = getFrequency(char); // [0-1]ï¼Œ1=æœ€å¸¸ç”¨
  
  // ç¬”ç”»å¾—åˆ† [0-1]
  const strokeScore = Math.min(strokeCount / 20, 1);
  
  // ç»“æ„å¾—åˆ†
  const structureScore = {
    "simple": 0.2,
    "medium": 0.5,
    "complex": 0.8
  }[structure];
  
  // é¢‘ç‡ä¿®æ­£ï¼ˆå¸¸è§å­—é™ä½å¤æ‚åº¦ï¼‰
  const frequencyPenalty = (1 - frequency) * 0.2;
  
  return strokeScore * 0.5 + structureScore * 0.3 + frequencyPenalty;
}
```

#### B. è‹±æ–‡å­—å½¢å¤æ‚åº¦

**å­—æ¯æ•°é‡**ï¼š
```
çŸ­ï¼š1-4å­—æ¯ï¼ˆdog, cat, goï¼‰
ä¸­ï¼š5-8å­—æ¯ï¼ˆtable, happy, studentï¼‰
é•¿ï¼š9+å­—æ¯ï¼ˆinternational, comprehendï¼‰
```

**æ‹¼å†™è§„å¾‹æ€§**ï¼š
```
è§„åˆ™ï¼šcat, dog, mapï¼ˆéŸ³å½¢ä¸€è‡´ï¼‰
ä¸­ç­‰ï¼štable, happyï¼ˆå¸¸è§æ¨¡å¼ï¼‰
ä¸è§„åˆ™ï¼šthrough, enough, colonelï¼ˆéŸ³å½¢åˆ†ç¦»ï¼‰
```

**ç»¼åˆå…¬å¼**ï¼š

```javascript
function englishVisualComplexity(word) {
  const length = word.length;
  const regularity = getSpellingRegularity(word); // [0-1]
  
  // é•¿åº¦å¾—åˆ†
  const lengthScore = Math.min(length / 15, 1);
  
  // ä¸è§„åˆ™æ€§å¾—åˆ†
  const irregularityScore = 1 - regularity;
  
  return lengthScore * 0.6 + irregularityScore * 0.4;
}
```

#### C. è§†è§‰è·ç¦»ç»¼åˆ

```javascript
function calculateVisualDistance(englishWord, chineseWords) {
  // ä¸­æ–‡å¹³å‡å¤æ‚åº¦
  const chineseComplexity = 
    chineseWords.map(chineseVisualComplexity)
      .reduce((sum, v) => sum + v, 0) / chineseWords.length;
  
  // è‹±æ–‡å¤æ‚åº¦
  const englishComplexity = englishVisualComplexity(englishWord);
  
  // è·ç¦» = å¤æ‚åº¦å·®å¼‚çš„ç»å¯¹å€¼
  return Math.abs(chineseComplexity - englishComplexity);
}
```

**ç¤ºä¾‹**ï¼š

```javascript
// æ¡Œå­ â†” table
chineseComplexity("æ¡Œ") = 0.65  // 15ç¬”ç”»ï¼Œå¤æ‚
chineseComplexity("å­") = 0.25  // 3ç¬”ç”»ï¼Œç®€å•
avgChinese = 0.45

englishComplexity("table") = 0.33  // 5å­—æ¯ï¼Œè§„åˆ™

visualDistance = |0.45 - 0.33| = 0.12  // ä½†éœ€è¦å½’ä¸€åŒ–

// å®é™…ä¸Šè§†è§‰è´Ÿæ‹…å·®å¼‚æ›´å¤§ï¼Œå› ä¸ºï¼š
// - æ¡Œå­éœ€è¦è®°å¿†15+3=18ä¸ªç¬”ç”»
// - tableåªéœ€è®°å¿†5ä¸ªå­—æ¯
// æ‰€ä»¥ä½¿ç”¨ç¬”ç”»æ€»æ•°å¯¹æ¯”å¯èƒ½æ›´åˆç†ï¼š

visualDistance = 1 - exp(-|18 - 5| / 10) = 0.73
```

**ä¿®æ­£å…¬å¼ï¼ˆæ¨èï¼‰**ï¼š

```javascript
function calculateVisualDistance(englishWord, chineseWords) {
  // ä¸­æ–‡æ€»ç¬”ç”»
  const chineseStrokes = chineseWords
    .map(c => Array.from(c).map(getStrokeCount).reduce((a,b) => a+b, 0))
    .reduce((a, b) => a + b, 0) / chineseWords.length;
  
  // è‹±æ–‡å­—æ¯æ•°
  const englishLetters = englishWord.length;
  
  // å½’ä¸€åŒ–å·®å¼‚
  const rawDifference = Math.abs(chineseStrokes - englishLetters);
  
  // ä½¿ç”¨æŒ‡æ•°å‡½æ•°æ˜ å°„åˆ°[0,1]
  return 1 - Math.exp(-rawDifference / 10);
}
```

---

## 5.4 è¯»éŸ³è·ç¦»è®¡ç®—

### 5.4.1 ç›®æ ‡

é‡åŒ–ï¼šéŸ³ç´ å’ŒéŸµå¾‹çš„å·®å¼‚ç¨‹åº¦

### 5.4.2 éŸ³ç´ è·ç¦»

**å›½é™…éŸ³æ ‡ï¼ˆIPAï¼‰å¯¹æ¯”**ï¼š

ä¸­æ–‡ï¼ˆæ™®é€šè¯ï¼‰éŸ³ç´ ç³»ç»Ÿï¼š
- å£°æ¯ï¼š21ä¸ª
- éŸµæ¯ï¼š39ä¸ª
- éŸ³è°ƒï¼š4ä¸ª

è‹±æ–‡éŸ³ç´ ç³»ç»Ÿï¼š
- è¾…éŸ³ï¼š24ä¸ª
- å…ƒéŸ³ï¼š20ä¸ªï¼ˆé•¿çŸ­å…ƒéŸ³+åŒå…ƒéŸ³ï¼‰

**ç›¸ä¼¼éŸ³ç´ æ˜ å°„**ï¼š

```javascript
const SIMILAR_PHONEMES = {
  // ä¸­æ–‡ â†’ ç›¸è¿‘è‹±æ–‡
  "b": ["b", "p"],
  "p": ["p"],
  "m": ["m"],
  "f": ["f"],
  "d": ["d", "t"],
  "t": ["t"],
  "n": ["n"],
  "l": ["l"],
  "g": ["g", "k"],
  "k": ["k"],
  "h": ["h"],
  "s": ["s"],
  "z": ["z"],
  // ... æ›´å¤šæ˜ å°„
};
```

**éŸ³ç´ è·ç¦»çŸ©é˜µ**ï¼š

```javascript
// ä¸¤ä¸ªéŸ³ç´ ä¹‹é—´çš„è·ç¦» [0-1]
// åŸºäºå‘éŸ³éƒ¨ä½å’Œæ–¹å¼
const phonemeDistance = {
  // ç¤ºä¾‹
  "b-p": 0.2,   // åŒéƒ¨ä½ï¼Œæ¸…æµŠä¸åŒ
  "b-d": 0.5,   // ä¸åŒéƒ¨ä½ï¼Œç›¸åŒæ–¹å¼
  "b-s": 0.8,   // å®Œå…¨ä¸åŒ
  // ... å®Œæ•´çŸ©é˜µ
};
```

**è®¡ç®—æ­¥éª¤**ï¼š

```javascript
function calculatePhoneticDistance(englishWord, chineseWords) {
  // 1. è·å–IPA
  const englishIPA = getIPA(englishWord); // "ËˆteÉª.bÉ™l"
  const chineseIPAs = chineseWords.map(getPinyin); // ["zhuÅ", "zi"]
  
  // 2. åˆ†è§£éŸ³ç´ 
  const englishPhonemes = parsePhonemes(englishIPA);
  // ["t", "eÉª", "b", "É™", "l"]
  
  const chinesePhonemes = chineseIPAs.flatMap(parsePhonemes);
  // ["zh", "u", "o", "z", "i"]
  
  // 3. å¯¹æ¯”ç›¸ä¼¼åº¦
  let matchCount = 0;
  let totalComparisons = 0;
  
  for (const enPhoneme of englishPhonemes) {
    for (const zhPhoneme of chinesePhonemes) {
      const similarity = getPhonemeDistance(enPhoneme, zhPhoneme);
      if (similarity < 0.3) {  // é˜ˆå€¼ï¼šç›¸ä¼¼
        matchCount++;
      }
      totalComparisons++;
    }
  }
  
  const matchRate = matchCount / Math.sqrt(totalComparisons);
  
  // 4. è·ç¦» = 1 - ç›¸ä¼¼åº¦
  return 1 - matchRate;
}
```

### 5.4.3 éŸ³èŠ‚å’ŒéŸµå¾‹

**éŸ³èŠ‚æ•°å¯¹æ¯”**ï¼š

```javascript
const syllableDistance = Math.abs(
  getSyllableCount(englishWord) - 
  getSyllableCount(chineseWords.join(""))
) / Math.max(
  getSyllableCount(englishWord),
  getSyllableCount(chineseWords.join(""))
);
```

**é‡éŸ³æ¨¡å¼**ï¼š

è‹±æ–‡æœ‰é‡éŸ³ï¼š**TA**ble, stu**DENT**, in**TER**na**TION**al
ä¸­æ–‡æœ‰å£°è°ƒï¼šç¬¬ä¸€å£°ã€ç¬¬äºŒå£°ã€ç¬¬ä¸‰å£°ã€ç¬¬å››å£°

è¿™æ˜¯å®Œå…¨ä¸åŒçš„éŸµå¾‹ç³»ç»Ÿï¼ŒåŸºç¡€è·ç¦»è¾ƒé«˜ã€‚

**æœ€ç»ˆè¯»éŸ³è·ç¦»**ï¼š

```javascript
function calculatePhoneticDistance(englishWord, chineseWords) {
  const phonemeDistance = comparePhonemes(englishWord, chineseWords);
  const syllableDistance = compareSyllables(englishWord, chineseWords);
  
  // éŸ³ç´ å 70%ï¼ŒéŸ³èŠ‚å 30%
  return phonemeDistance * 0.7 + syllableDistance * 0.3;
}
```

---

## 5.5 ç»¼åˆè·ç¦»è®¡ç®—

### 5.5.1 æ¸…æ™°æ¦‚å¿µ

```javascript
function calculateOverallDistance(concept) {
  const { english, chinese } = concept;
  
  const meaningDist = calculateMeaningDistance(english, chinese);
  const visualDist = calculateVisualDistance(english, chinese);
  const phoneticDist = calculatePhoneticDistance(english, chinese);
  
  const weights = {
    meaning: 0.40,
    visual: 0.30,
    phonetic: 0.30
  };
  
  return (
    meaningDist * weights.meaning +
    visualDist * weights.visual +
    phoneticDist * weights.phonetic
  );
}
```

### 5.5.2 æ¨¡ç³Šæ¦‚å¿µç»„

```javascript
function calculateFuzzyGroupDistance(fuzzyGroup) {
  const { englishWords, chineseWords } = fuzzyGroup;
  
  // è®¡ç®—æ‰€æœ‰é…å¯¹çš„è·ç¦»
  const allPairings = [];
  
  for (const enWord of englishWords) {
    for (const zhWord of chineseWords) {
      const distance = calculateOverallDistance({
        english: enWord,
        chinese: [zhWord]
      });
      allPairings.push(distance);
    }
  }
  
  // å¹³å‡è·ç¦»
  const avgDistance = allPairings.reduce((a, b) => a + b, 0) / allPairings.length;
  
  // æ ‡å‡†å·®ï¼ˆç¦»æ•£åº¦ï¼‰
  const variance = calculateVariance(allPairings);
  
  // è°ƒæ•´ï¼šç¦»æ•£åº¦é«˜ï¼Œå¢åŠ éš¾åº¦
  const adjustedDistance = avgDistance + (variance * 0.3);
  
  return {
    overallDistance: Math.min(adjustedDistance, 1.0),
    variance: variance,
    pairings: allPairings
  };
}
```

---

## 5.6 å®ç°ä¼˜å…ˆçº§å»ºè®®

### Phase 1ï¼šç®€åŒ–ç‰ˆï¼ˆå¿«é€Ÿå¯åŠ¨ï¼‰

ä½¿ç”¨é¢„æ ‡æ³¨æ•°æ®ï¼š
- å«ä¹‰è·ç¦»ï¼šäººå·¥æ ‡æ³¨å¸¸è§500è¯
- è§†è§‰è·ç¦»ï¼šç¬”ç”»æ•°vså­—æ¯æ•°å…¬å¼
- è¯»éŸ³è·ç¦»ï¼šå›ºå®šé«˜å€¼ï¼ˆ0.8ï¼‰

### Phase 2ï¼šä¸­çº§ç‰ˆï¼ˆæå‡ç²¾åº¦ï¼‰

- å«ä¹‰è·ç¦»ï¼šä½¿ç”¨å¤šè¯­è¨€è¯å‘é‡ï¼ˆmBERTï¼‰
- è§†è§‰è·ç¦»ï¼šåŠ å…¥ç»“æ„å¤æ‚åº¦
- è¯»éŸ³è·ç¦»ï¼šåŸºäºæ‹¼éŸ³<->IPAæ˜ å°„

### Phase 3ï¼šå®Œæ•´ç‰ˆï¼ˆæœ€ä½³æ•ˆæœï¼‰

- å«ä¹‰è·ç¦»ï¼šç»“åˆæ–‡åŒ–çŸ¥è¯†å›¾è°±
- è§†è§‰è·ç¦»ï¼šç¥ç»ç½‘ç»œè¯„ä¼°å­—å½¢ç›¸ä¼¼åº¦
- è¯»éŸ³è·ç¦»ï¼šå®Œæ•´éŸ³ç´ è·ç¦»çŸ©é˜µ

---

**æ–‡æ¡£ç»§ç»­åœ¨ä¸‹ä¸€ä¸ªæ–‡ä»¶...**
# è¯­è¨€å­¦ä¹ ç³»ç»Ÿå®Œæ•´æŠ€æœ¯æ–‡æ¡£ - ç¬¬ä¸‰éƒ¨åˆ†

# 6. å­¦ä¹ æ¨¡å¼ä¸ç®—æ³•

## 6.1 ä¸»é¢˜å­¦ä¹ æ¨¡å¼ï¼ˆTopic Modeï¼‰

### 6.1.1 æ¦‚è¿°
ç”¨æˆ·é€‰æ‹©ç‰¹å®šè¯æ±‡è¡¨ï¼ˆå¦‚"å•†åŠ¡è¯æ±‡"ï¼‰ï¼Œç³»ç»Ÿåœ¨è¯¥è¡¨å†…æŒ‰éš¾åº¦æ’åºå­¦ä¹ ã€‚

### 6.1.2 ç®—æ³•æµç¨‹

```javascript
function generateTopicSequence(category, config) {
  // 1. è·å–è¯¥ç±»åˆ«çš„æ‰€æœ‰æ¦‚å¿µ
  const concepts = getAllConceptsByCategory(category);
  
  // 2. æŒ‰è·ç¦»å€¼æ’åº
  concepts.sort((a, b) => 
    a.userScores.personalDistance - b.userScores.personalDistance
  );
  
  // 3. å¦‚æœå¯ç”¨é”™è¯¯å¤ä¹ ï¼Œæ’å…¥é”™è¯¯è¯
  if (config.includeErrors) {
    const errorConcepts = getUserErrorConcepts();
    // æ¯Nä¸ªæ­£å¸¸è¯æ’å…¥1ä¸ªé”™è¯¯è¯
    concepts = interlaceErrors(concepts, errorConcepts, N=5);
  }
  
  // 4. æ’å…¥ç›¸ä¼¼è¯å¯¹æ¯”
  const sequenceWithComparisons = insertSimilarComparisons(concepts);
  
  return sequenceWithComparisons;
}
```

### 6.1.3 ç›¸ä¼¼è¯æ’å…¥é€»è¾‘

```javascript
function insertSimilarComparisons(concepts) {
  const result = [];
  
  for (let i = 0; i < concepts.length; i++) {
    const current = concepts[i];
    result.push(current);
    
    // æ¯å­¦3ä¸ªè¯ï¼Œæ’å…¥ä¸€ä¸ªç›¸ä¼¼è¯å¯¹æ¯”
    if ((i + 1) % 3 === 0) {
      const similar = findMostSimilarConcept(current, concepts);
      if (similar && !result.includes(similar)) {
        result.push(similar);
      }
    }
  }
  
  return result;
}
```

---

## 6.2 æ··åˆå­¦ä¹ æ¨¡å¼ï¼ˆMixed Modeï¼‰

### 6.2.1 æ¦‚è¿°
æ‰“æ•£æ‰€æœ‰è¯æ±‡è¡¨ï¼ŒæŒ‰è·ç¦»å€¼å›¾éå†ï¼Œåˆ¶é€ å¯¹æ¯”å­¦ä¹ ã€‚

### 6.2.2 æ ¸å¿ƒæ€æƒ³

```
å½“å‰æ¦‚å¿µè·ç¦» = 0.35
â†“
æ‰¾åˆ°è·ç¦»ç›¸è¿‘çš„ä¸‹ä¸€ä¸ªæ¦‚å¿µï¼ˆ0.34-0.36ï¼‰
â†“
ä½†è¦ç¬¦åˆéš¾åº¦é…ç½®ï¼ˆä½30%ã€ä¸­50%ã€é«˜20%ï¼‰
```

### 6.2.3 å›¾éå†ç®—æ³•

```javascript
function generateMixedSequence(config) {
  const allConcepts = getAllEnabledConcepts();
  
  // 1. æŒ‰éš¾åº¦åˆ†ç»„
  const grouped = groupByDifficulty(allConcepts, {
    low: [0, 0.33],
    medium: [0.33, 0.66],
    high: [0.66, 1.0]
  });
  
  // 2. æ ¹æ®é…ç½®æ¯”ä¾‹é‡‡æ ·
  const { low, medium, high } = config.difficultyDistribution;
  const totalCount = config.sessionSize || 50;
  
  const lowCount = Math.floor(totalCount * low);
  const mediumCount = Math.floor(totalCount * medium);
  const highCount = totalCount - lowCount - mediumCount;
  
  // 3. ä»æ¯ç»„é‡‡æ ·
  const lowSamples = sampleConcepts(grouped.low, lowCount);
  const mediumSamples = sampleConcepts(grouped.medium, mediumCount);
  const highSamples = sampleConcepts(grouped.high, highCount);
  
  // 4. åˆå¹¶å¹¶æŒ‰è·ç¦»ç›¸è¿‘æ’åº
  const allSamples = [...lowSamples, ...mediumSamples, ...highSamples];
  
  // 5. æ„å»ºç›¸ä¼¼åº¦å›¾
  const graph = buildSimilarityGraph(allSamples);
  
  // 6. éå†å›¾ï¼ˆæœ€è¿‘é‚»ä¼˜å…ˆï¼‰
  const sequence = traverseGraph(graph, config);
  
  return sequence;
}
```

### 6.2.4 ç›¸ä¼¼åº¦å›¾æ„å»º

```javascript
function buildSimilarityGraph(concepts) {
  const graph = new Map();
  
  for (const concept of concepts) {
    const neighbors = [];
    
    for (const other of concepts) {
      if (concept.id === other.id) continue;
      
      // è®¡ç®—è·ç¦»å€¼çš„æ¥è¿‘ç¨‹åº¦
      const distanceSimilarity = 1 - Math.abs(
        concept.userScores.personalDistance - 
        other.userScores.personalDistance
      );
      
      // åªä¿ç•™è·ç¦»å€¼ç›¸è¿‘çš„é‚»å±…ï¼ˆé˜ˆå€¼0.9 = è·ç¦»å·®<0.1ï¼‰
      if (distanceSimilarity > 0.9) {
        neighbors.push({
          concept: other,
          similarity: distanceSimilarity
        });
      }
    }
    
    // æŒ‰ç›¸ä¼¼åº¦æ’åº
    neighbors.sort((a, b) => b.similarity - a.similarity);
    
    graph.set(concept.id, neighbors);
  }
  
  return graph;
}
```

### 6.2.5 å›¾éå†ç­–ç•¥

```javascript
function traverseGraph(graph, config) {
  const sequence = [];
  const visited = new Set();
  
  // éšæœºé€‰æ‹©èµ·ç‚¹ï¼ˆä»ä¸­ç­‰éš¾åº¦å¼€å§‹ï¼‰
  const mediumConcepts = Array.from(graph.keys())
    .filter(id => {
      const concept = getConceptById(id);
      const dist = concept.userScores.personalDistance;
      return dist >= 0.33 && dist < 0.66;
    });
  
  let current = getConceptById(
    mediumConcepts[Math.floor(Math.random() * mediumConcepts.length)]
  );
  
  sequence.push(current);
  visited.add(current.id);
  
  // éå†
  while (sequence.length < config.sessionSize) {
    const neighbors = graph.get(current.id) || [];
    
    // æ‰¾åˆ°æœªè®¿é—®çš„æœ€ç›¸ä¼¼é‚»å±…
    let next = null;
    for (const neighbor of neighbors) {
      if (!visited.has(neighbor.concept.id)) {
        next = neighbor.concept;
        break;
      }
    }
    
    // å¦‚æœæ²¡æœ‰æœªè®¿é—®çš„é‚»å±…ï¼Œéšæœºè·³è½¬
    if (!next) {
      const unvisited = Array.from(graph.keys())
        .filter(id => !visited.has(id));
      
      if (unvisited.length === 0) break;
      
      next = getConceptById(
        unvisited[Math.floor(Math.random() * unvisited.length)]
      );
    }
    
    sequence.push(next);
    visited.add(next.id);
    current = next;
  }
  
  return sequence;
}
```

---

## 6.3 é”™è¯¯è¯å¤ä¹ æœºåˆ¶

### 6.3.1 é”™è¯¯Poolç®¡ç†

```javascript
const errorPool = {
  concepts: Map<conceptId, ErrorRecord>,
  
  add(conceptId, rating) {
    if (rating === "bad") {
      if (!this.concepts.has(conceptId)) {
        this.concepts.set(conceptId, {
          id: conceptId,
          addedAt: Date.now(),
          badCount: 1,
          normalCount: 0,
          lastReview: Date.now()
        });
      } else {
        const record = this.concepts.get(conceptId);
        record.badCount++;
        record.lastReview = Date.now();
      }
    } else if (rating === "normal") {
      if (this.concepts.has(conceptId)) {
        this.concepts.get(conceptId).normalCount++;
      }
    } else if (rating === "good") {
      // "å¥½"è¯„åˆ†3æ¬¡åç§»å‡ºé”™è¯¯pool
      if (this.concepts.has(conceptId)) {
        const record = this.concepts.get(conceptId);
        if (record.goodConsecutive === undefined) {
          record.goodConsecutive = 1;
        } else {
          record.goodConsecutive++;
        }
        
        if (record.goodConsecutive >= 3) {
          this.concepts.delete(conceptId);
        }
      }
    }
  },
  
  getPriorityList() {
    // æŒ‰badCountæ’åºï¼Œè¶Šå¤šè¶Šä¼˜å…ˆ
    return Array.from(this.concepts.values())
      .sort((a, b) => b.badCount - a.badCount);
  }
};
```

### 6.3.2 é”™è¯¯è¯æ’å…¥ç­–ç•¥

```javascript
function interlaceErrors(normalSequence, errorConcepts, interval=5) {
  const result = [];
  let errorIndex = 0;
  
  for (let i = 0; i < normalSequence.length; i++) {
    result.push(normalSequence[i]);
    
    // æ¯intervalä¸ªæ­£å¸¸è¯åæ’å…¥1ä¸ªé”™è¯¯è¯
    if ((i + 1) % interval === 0 && errorIndex < errorConcepts.length) {
      result.push(errorConcepts[errorIndex]);
      errorIndex++;
    }
  }
  
  // æ’å…¥å‰©ä½™é”™è¯¯è¯
  while (errorIndex < errorConcepts.length) {
    result.push(errorConcepts[errorIndex]);
    errorIndex++;
  }
  
  return result;
}
```

---

## 6.4 è‡ªé€‚åº”æ°´å¹³ç³»ç»Ÿ

### 6.4.1 åˆå§‹è¯„æµ‹

```javascript
function conductInitialAssessment() {
  // é€‰å–è·¨éš¾åº¦çš„20ä¸ªè¯
  const testConcepts = [
    ...sampleConcepts(lowDifficulty, 5),
    ...sampleConcepts(mediumDifficulty, 10),
    ...sampleConcepts(highDifficulty, 5)
  ];
  
  // ç”¨æˆ·é€ä¸ªæ ‡è®°ï¼šè®¤è¯†/ä¸è®¤è¯†
  const results = [];
  for (const concept of testConcepts) {
    const knows = askUser(`Do you know: ${concept.english}?`);
    results.push({
      concept,
      knows,
      difficulty: concept.scores.overallDistance
    });
  }
  
  // è®¡ç®—æ°´å¹³ï¼šæœ€é«˜è®¤è¯†çš„è¯çš„å¹³å‡éš¾åº¦
  const knownConcepts = results.filter(r => r.knows);
  const level = knownConcepts.reduce((sum, r) => sum + r.difficulty, 0) 
    / knownConcepts.length;
  
  return level; // [0-1]
}
```

### 6.4.2 åŠ¨æ€è°ƒæ•´

```javascript
function updateUserLevel(feedbackHistory) {
  // æœ€è¿‘20ä¸ªåé¦ˆ
  const recent = feedbackHistory.slice(-20);
  
  // è®¡ç®—å„éš¾åº¦è¯çš„æ­£ç¡®ç‡
  const lowCorrect = recent.filter(f => 
    f.difficulty < 0.33 && f.rating === "good"
  ).length;
  
  const mediumCorrect = recent.filter(f => 
    f.difficulty >= 0.33 && f.difficulty < 0.66 && f.rating === "good"
  ).length;
  
  const highCorrect = recent.filter(f => 
    f.difficulty >= 0.66 && f.rating === "good"
  ).length;
  
  // å¦‚æœé«˜éš¾åº¦æ­£ç¡®ç‡>70%ï¼Œæå‡æ°´å¹³
  if (highCorrect / recent.filter(f => f.difficulty >= 0.66).length > 0.7) {
    currentLevel += 0.05;
  }
  // å¦‚æœä½éš¾åº¦æ­£ç¡®ç‡<50%ï¼Œé™ä½æ°´å¹³
  else if (lowCorrect / recent.filter(f => f.difficulty < 0.33).length < 0.5) {
    currentLevel -= 0.05;
  }
  
  currentLevel = Math.max(0, Math.min(1, currentLevel));
  return currentLevel;
}
```

### 6.4.3 è‹±æ–‡è§£é‡Šç”Ÿæˆ

```javascript
function generateExplanation(concept, userLevel) {
  // æ ¹æ®ç”¨æˆ·æ°´å¹³é€‰æ‹©è§£é‡Šå¤æ‚åº¦
  let complexity;
  if (userLevel < 0.33) {
    complexity = "beginner";  // A1-A2è¯æ±‡
  } else if (userLevel < 0.66) {
    complexity = "intermediate";  // B1-B2è¯æ±‡
  } else {
    complexity = "advanced";  // C1-C2è¯æ±‡
  }
  
  // è°ƒç”¨Claude APIæˆ–ä½¿ç”¨é¢„ç”Ÿæˆè§£é‡Š
  const explanation = getExplanation(concept.english, complexity);
  
  return explanation;
}

// ç¤ºä¾‹è¾“å‡º
getExplanation("serendipity", "beginner")
// â†’ "Finding something good by accident"

getExplanation("serendipity", "intermediate")
// â†’ "The occurrence of fortunate discoveries by chance"

getExplanation("serendipity", "advanced")
// â†’ "A felicitous happenstance whereby one stumbles upon something valuable while seeking something else"
```

---

# 7. ç”¨æˆ·ç•Œé¢è§„èŒƒ

## 7.1 ç•Œé¢ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              å¯¼èˆªæ                           â”‚
â”‚  [è®¾ç½®] [å­¦ä¹ ] [ç»Ÿè®¡] [è¯æ±‡ç®¡ç†]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                                              â”‚
â”‚                                              â”‚
â”‚             ä¸»å†…å®¹åŒº                         â”‚
â”‚                                              â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7.2 è®¾ç½®ç•Œé¢

### å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è®¾ç½® Settings                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚  å­¦ä¹ è¯­è¨€                                     â”‚
â”‚  â—‹ English  â—‹ French  â—‹ German  â—‹ Japanese  â”‚
â”‚                                              â”‚
â”‚  æç¤ºè¯­è¨€                                     â”‚
â”‚  â—‹ ä¸­æ–‡  â—‹ English                           â”‚
â”‚                                              â”‚
â”‚  æ˜¾ç¤ºæ¯è¯­è§£é‡Š                                 â”‚
â”‚  [Toggle] å…³é—­ â† é»˜è®¤å…³é—­                    â”‚
â”‚                                              â”‚
â”‚  å·²å¯ç”¨è¯æ±‡è¡¨                                 â”‚
â”‚  â˜‘ Oxford 3000 (A1-A2)                      â”‚
â”‚  â˜‘ Oxford 3000 (B1-B2)                      â”‚
â”‚  â˜‘ Academic Word List                       â”‚
â”‚  â˜‘ GRE 357                                  â”‚
â”‚  [+ æ·»åŠ è¯æ±‡è¡¨]                              â”‚
â”‚                                              â”‚
â”‚  [ä¿å­˜è®¾ç½®]                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7.3 å­¦ä¹ ç•Œé¢

### 7.3.1 å¼€å§‹ç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é€‰æ‹©å­¦ä¹ æ¨¡å¼                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  ä¸»é¢˜å­¦ä¹       â”‚  â”‚  æ··åˆå­¦ä¹       â”‚      â”‚
â”‚  â”‚  Topic Mode   â”‚  â”‚  Mixed Mode   â”‚      â”‚
â”‚  â”‚               â”‚  â”‚               â”‚      â”‚
â”‚  â”‚  ä¸“æ³¨æŸä¸ªé¢†åŸŸ   â”‚  â”‚  å¯¹æ¯”å¼å­¦ä¹     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                              â”‚
â”‚  [ä¸»é¢˜ç±»åˆ«]                                   â”‚
â”‚  â—‹ æ—¥å¸¸è¯æ±‡  â—‹ å­¦æœ¯è¯æ±‡  â—‹ å•†åŠ¡è¯æ±‡           â”‚
â”‚                                              â”‚
â”‚  [éš¾åº¦åˆ†å¸ƒ] (ä»…æ··åˆæ¨¡å¼)                       â”‚
â”‚  ä½éš¾åº¦:  [====30====] 30%                   â”‚
â”‚  ä¸­éš¾åº¦:  [========50========] 50%           â”‚
â”‚  é«˜éš¾åº¦:  [====20====] 20%                   â”‚
â”‚                                              â”‚
â”‚  [é¢å¤–é€‰é¡¹]                                   â”‚
â”‚  â˜‘ åŒ…å«é”™è¯¯è¯å¤ä¹                              â”‚
â”‚  â˜‘ å¯ç”¨ç•ªèŒ„é’Ÿ (25åˆ†é’Ÿ/5åˆ†é’Ÿ)                  â”‚
â”‚  â˜ éšæ—¶é—´å¢åŠ éš¾åº¦                             â”‚
â”‚                                              â”‚
â”‚  [å¼€å§‹å­¦ä¹ ]                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.3.2 å­¦ä¹ ç•Œé¢ - æ¸…æ™°æ¦‚å¿µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¿›åº¦: 5/50  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  [X]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚                                              â”‚
â”‚               serendipity                    â”‚
â”‚                                              â”‚
â”‚   The occurrence of fortunate discoveries   â”‚
â”‚   by chance, especially when you are not    â”‚
â”‚   looking for them.                         â”‚
â”‚                                              â”‚
â”‚   Example:                                  â”‚
â”‚   "Finding this cafÃ© was pure serendipity." â”‚
â”‚                                              â”‚
â”‚   [?] æŸ¥çœ‹ç›¸å…³è¯å¯¹æ¯”                          â”‚
â”‚                                              â”‚
â”‚                                              â”‚
â”‚   æˆ‘å¯¹è¿™ä¸ªè¯çš„æŒæ¡ç¨‹åº¦ï¼š                       â”‚
â”‚                                              â”‚
â”‚   [  å¥½  ]  [ æ­£å¸¸ ]  [  å£  ]              â”‚
â”‚    Good     Normal      Bad                 â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.3.3 å­¦ä¹ ç•Œé¢ - æ¨¡ç³Šæ¦‚å¿µç»„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¿›åº¦: 12/50  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  [X]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚  è¿™æ˜¯ä¸€ä¸ªæ¨¡ç³Šæ¦‚å¿µç»„                           â”‚
â”‚  è¿™äº›è¯åœ¨ä¸¤ç§è¯­è¨€ä¸­æ²¡æœ‰æ¸…æ™°å¯¹åº”               â”‚
â”‚                                              â”‚
â”‚     fate        destiny      serendipity    â”‚
â”‚                                              â”‚
â”‚          fortune        luck                â”‚
â”‚                                              â”‚
â”‚     å‘½è¿        å®¿å‘½        ç¼˜åˆ†             â”‚
â”‚                                              â”‚
â”‚          å¤©å‘½        è¿æ°”                    â”‚
â”‚                                              â”‚
â”‚  ç‚¹å‡»ä»»æ„è¯æŸ¥çœ‹è§£é‡Š â†‘                         â”‚
â”‚                                              â”‚
â”‚                                              â”‚
â”‚   æˆ‘å¯¹è¿™ç»„æ¦‚å¿µçš„ç†è§£ç¨‹åº¦ï¼š                     â”‚
â”‚                                              â”‚
â”‚   [  å¥½  ]  [ æ­£å¸¸ ]  [  å£  ]              â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ç‚¹å‡»åï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ â† è¿”å› ]                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚                  fate                        â”‚
â”‚                                              â”‚
â”‚  The development of events beyond a         â”‚
â”‚  person's control, regarded as determined   â”‚
â”‚  by a supernatural power.                   â”‚
â”‚                                              â”‚
â”‚  Often implies something unavoidable or     â”‚
â”‚  predetermined.                             â”‚
â”‚                                              â”‚
â”‚  Contrast with:                             â”‚
â”‚  â€¢ destiny - emphasizes the endpoint        â”‚
â”‚  â€¢ serendipity - happy accidents            â”‚
â”‚  â€¢ luck - random good/bad fortune           â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7.4 ç»Ÿè®¡ç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å­¦ä¹ ç»Ÿè®¡ Statistics                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚  æ€»å­¦ä¹ æ¦‚å¿µæ•°: 247                            â”‚
â”‚  æœ¬å‘¨æ–°å­¦: 32                                â”‚
â”‚                                              â”‚
â”‚  æŒæ¡ç¨‹åº¦åˆ†å¸ƒ:                                â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ å¥½ (135, 54.7%)              â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ æ­£å¸¸ (68, 27.5%)                    â”‚
â”‚  â–ˆâ–ˆâ–ˆ å£ (44, 17.8%)                         â”‚
â”‚                                              â”‚
â”‚  éš¾åº¦åˆ†å¸ƒ:                                    â”‚
â”‚  ä½éš¾åº¦  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ (89)                       â”‚
â”‚  ä¸­éš¾åº¦  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ (118)                â”‚
â”‚  é«˜éš¾åº¦  â–ˆâ–ˆâ–ˆâ–ˆ (40)                           â”‚
â”‚                                              â”‚
â”‚  éœ€è¦å¤ä¹ çš„æ¦‚å¿µ (é”™è¯¯pool): 12               â”‚
â”‚  [æŸ¥çœ‹è¯¦æƒ…]                                  â”‚
â”‚                                              â”‚
â”‚  å­¦ä¹ æ—¶é•¿: æœ¬å‘¨ 5.2å°æ—¶                       â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7.5 è¯æ±‡ç®¡ç†ç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¯æ±‡ç®¡ç† Vocabulary Management              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚  [æœç´¢è¯æ±‡] ğŸ” _______________               â”‚
â”‚                                              â”‚
â”‚  ç­›é€‰:                                       â”‚
â”‚  [å…¨éƒ¨] [å·²å­¦] [æœªå­¦] [é”™è¯¯è¯]               â”‚
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ table                                 â”‚  â”‚
â”‚  â”‚ n. æ¡Œå­, è¡¨æ ¼                         â”‚  â”‚
â”‚  â”‚ è·ç¦»: 0.62 (ä¸­ç­‰)  å·²å­¦ âœ“            â”‚  â”‚
â”‚  â”‚ ä¸Šæ¬¡å¤ä¹ : 2å¤©å‰  è¯„åˆ†: å¥½            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ serendipity                           â”‚  â”‚
â”‚  â”‚ n. æœºç¼˜å·§åˆ, æ„å¤–å‘ç°                 â”‚  â”‚
â”‚  â”‚ è·ç¦»: 0.68 (å›°éš¾)  å·²å­¦ âœ“            â”‚  â”‚
â”‚  â”‚ ä¸Šæ¬¡å¤ä¹ : 5å¤©å‰  è¯„åˆ†: æ­£å¸¸          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                              â”‚
â”‚  ...                                         â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**æ–‡æ¡£ç»§ç»­åœ¨ä¸‹ä¸€ä¸ªæ–‡ä»¶...**
# è¯­è¨€å­¦ä¹ ç³»ç»Ÿå®Œæ•´æŠ€æœ¯æ–‡æ¡£ - ç¬¬å››éƒ¨åˆ†

# 8. å®Œæ•´è¯æ±‡æ•°æ®

## 8.1 æ•°æ®æ–‡ä»¶ç»„ç»‡

```
/data
  /vocabulary
    oxford_3000_a1a2.json
    oxford_3000_b1b2.json
    awl.json
    gre357.json
    
  /concepts
    clear_concepts.json       # æ‰€æœ‰æ¸…æ™°æ¦‚å¿µ
    fuzzy_groups.json         # æ‰€æœ‰æ¨¡ç³Šè¯ç»„
    
  /scoring
    meaning_distance_map.json  # é¢„æ ‡æ³¨çš„å«ä¹‰è·ç¦»
    chinese_stroke_data.json   # ä¸­æ–‡ç¬”ç”»æ•°æ®
    phoneme_distance_matrix.json  # éŸ³ç´ è·ç¦»çŸ©é˜µ
    
  /user
    user_config.json
    user_progress.json
    error_pool.json
```

---

## 8.2 è¯æ±‡æ•°æ®æ ¼å¼ç¤ºä¾‹

### oxford_3000_a1a2.json

```json
[
  {
    "word": "table",
    "partOfSpeech": "n.",
    "level": "A1",
    "frequency": "high",
    "chinese": ["æ¡Œå­", "è¡¨æ ¼"],
    "ipa": "ËˆteÉª.bÉ™l",
    "syllables": 2
  },
  {
    "word": "chair",
    "partOfSpeech": "n.",
    "level": "A1",
    "frequency": "high",
    "chinese": ["æ¤…å­"],
    "ipa": "tÊƒer",
    "syllables": 1
  }
  // ... 3000ä¸ªè¯
]
```

### fuzzy_groups.json

```json
[
  {
    "groupId": "MG-001",
    "theme": "å‘½è¿/æœºç¼˜",
    "englishWords": [
      {
        "word": "fate",
        "partOfSpeech": "n.",
        "ipa": "feÉªt",
        "definition": "The development of events beyond a person's control"
      },
      {
        "word": "destiny",
        "partOfSpeech": "n.",
        "ipa": "Ëˆdes.tÉ™.ni",
        "definition": "The events that will necessarily happen to a particular person"
      },
      {
        "word": "serendipity",
        "partOfSpeech": "n.",
        "ipa": "ËŒser.É™nËˆdÉªp.É™.tÌ¬i",
        "definition": "The occurrence of fortunate discoveries by chance"
      },
      {
        "word": "fortune",
        "partOfSpeech": "n.",
        "ipa": "ËˆfÉ”Ër.tÊƒuËn",
        "definition": "Luck, especially good luck"
      },
      {
        "word": "luck",
        "partOfSpeech": "n.",
        "ipa": "lÊŒk",
        "definition": "The force that causes good or bad things to happen"
      }
    ],
    "chineseWords": [
      {
        "word": "å‘½è¿",
        "pinyin": "mÃ¬ng yÃ¹n",
        "strokes": [8, 12],
        "definition": "äººç”Ÿçš„é™…é‡ï¼Œç‰¹æŒ‡ä¸å¯æ§çš„å‘å±•"
      },
      {
        "word": "å®¿å‘½",
        "pinyin": "sÃ¹ mÃ¬ng",
        "strokes": [11, 8],
        "definition": "æ³¨å®šçš„å‘½è¿ï¼Œä¸å¯æ”¹å˜"
      },
      {
        "word": "ç¼˜åˆ†",
        "pinyin": "yuÃ¡n fÃ¨n",
        "strokes": [12, 4],
        "definition": "äººä¸äººä¹‹é—´çš„å¤©å®šè”ç³»"
      },
      {
        "word": "è¿æ°”",
        "pinyin": "yÃ¹n qÃ¬",
        "strokes": [11, 4],
        "definition": "å¶ç„¶çš„å¥½åé™…é‡"
      }
    ],
    "culturalNotes": "This concept group shows fundamental differences in how Chinese and English cultures conceptualize fate and chance. Chinese ç¼˜åˆ† emphasizes interpersonal destiny, which has no direct English equivalent."
  }
  // ... æ›´å¤šæ¨¡ç³Šç»„
]
```

---

## 8.3 å…³é”®æ¨¡ç³Šè¯ç»„åˆ—è¡¨

### MG-001: å‘½è¿/æœºç¼˜ç»„
- **è‹±æ–‡**: fate, destiny, serendipity, fortune, luck, chance
- **ä¸­æ–‡**: å‘½è¿, å®¿å‘½, å¤©å‘½, ç¼˜åˆ†, æœºç¼˜å·§åˆ, è¿æ°”, å¤©æ„

### MG-002: å°Šé‡/æ•¬ç•ç»„
- **è‹±æ–‡**: respect, reverence, venerate, esteem, admiration, deference
- **ä¸­æ–‡**: å°Šé‡, å°Šæ•¬, æ•¬ç•, å´‡æ•¬, æ•¬ä»°, æ•¬é‡, é’¦ä½©, èµèµ

### MG-003: è¯šå®/å¦ç‡ç»„
- **è‹±æ–‡**: honest, candid, frank, sincere, genuine, artless, ingenuous
- **ä¸­æ–‡**: è¯šå®, æ­£ç›´, å¦ç‡, ç›´è¨€, å¦ç™½, çœŸè¯š, è¯šæŒš, çœŸå®, å¤©çœŸ

### MG-004: éª„å‚²/è‡ªä¿¡ç»„
- **è‹±æ–‡**: pride, arrogance, confidence, hubris, vanity, conceit
- **ä¸­æ–‡**: éª„å‚², è‡ªè±ª, è‡ªå°Š, å‚²æ…¢, è‡ªå¤§, è‡ªä¿¡, ä¿¡å¿ƒ, ç‹‚å¦„, è™šè£

### MG-005: èŠ‚ä¿­/åå•¬ç»„
- **è‹±æ–‡**: frugal, thrifty, economical, stingy, miserly, parsimonious
- **ä¸­æ–‡**: èŠ‚ä¿­, æœ´ç´ , èŠ‚çº¦, ç»æµ, åå•¬, å°æ°”, å®ˆè´¢å¥´

### MG-006: å‹‡æ•¢/é²è½ç»„
- **è‹±æ–‡**: brave, courageous, bold, audacious, reckless, foolhardy
- **ä¸­æ–‡**: å‹‡æ•¢, è‹±å‹‡, å¤§èƒ†, å‹‡æ•¢æ— ç•, é²è½, å†’å¤±, æœ‰å‹‡æ— è°‹

### MG-007: è°¦è™š/è°¦å‘ç»„
- **è‹±æ–‡**: humble, modest, meek, self-effacing, unassuming
- **ä¸­æ–‡**: è°¦è™š, è°¦é€Š, è°¦å‘, è°¦å’Œ, ä½è°ƒ

### MG-008: å¿«ä¹/å¹¸ç¦ç»„
- **è‹±æ–‡**: happy, joyful, blissful, content, ecstatic, elated
- **ä¸­æ–‡**: å¿«ä¹, å¼€å¿ƒ, é«˜å…´, å¹¸ç¦, æ»¡è¶³, æ¬£å–œ, æ„‰æ‚¦

### MG-009: æ‚²ä¼¤/å“€æ„ç»„
- **è‹±æ–‡**: sad, sorrowful, melancholy, grieving, mournful, dejected
- **ä¸­æ–‡**: æ‚²ä¼¤, éš¾è¿‡, ä¼¤å¿ƒ, å“€ä¼¤, å¿§éƒ, å“€æ„, æ²®ä¸§

### MG-010: æ„¤æ€’/ç”Ÿæ°”ç»„
- **è‹±æ–‡**: angry, furious, enraged, irate, indignant, wrathful
- **ä¸­æ–‡**: ç”Ÿæ°”, æ„¤æ€’, å‘æ€’, æš´æ€’, æ¼ç«, æ„¤æ…¨

### MG-011: ææƒ§/å®³æ€•ç»„
- **è‹±æ–‡**: fear, dread, terror, fright, anxiety, apprehension
- **ä¸­æ–‡**: å®³æ€•, ææƒ§, ææ€–, æƒŠæ, æ‹…å¿§, å¿§è™‘, ç•æƒ§

### MG-012: ç¾ä¸½/ä¼˜é›…ç»„
- **è‹±æ–‡**: beautiful, gorgeous, elegant, graceful, exquisite, stunning
- **ä¸­æ–‡**: ç¾ä¸½, æ¼‚äº®, ä¼˜é›…, é›…è‡´, ç²¾è‡´, åä¸½, ç»ç¾

### MG-013: èªæ˜/æ™ºæ…§ç»„
- **è‹±æ–‡**: intelligent, smart, wise, clever, bright, brilliant, ingenious
- **ä¸­æ–‡**: èªæ˜, æ™ºæ…§, æ˜æ™º, æœºæ™º, èªæ…§, æ‰æ™º

### MG-014: æ„šè ¢/å‚»ç»„
- **è‹±æ–‡**: stupid, foolish, dumb, silly, idiotic, moronic
- **ä¸­æ–‡**: æ„šè ¢, å‚», ç¬¨, è ¢, ç™½ç—´, æ„šæ˜§

### MG-015: å¼ºå£®/å¥åº·ç»„
- **è‹±æ–‡**: strong, powerful, robust, vigorous, sturdy, healthy
- **ä¸­æ–‡**: å¼ºå£®, å¼ºå¤§, å¥å£®, æœ‰åŠ›, ç»“å®, å¥åº·

---

## 8.4 è¯„åˆ†æ•°æ®ç¤ºä¾‹

### meaning_distance_map.json

```json
{
  "table": 0.10,
  "chair": 0.10,
  "book": 0.15,
  "happy": 0.15,
  "sad": 0.15,
  "love": 0.20,
  "beautiful": 0.25,
  
  "culture": 0.45,
  "tradition": 0.40,
  "custom": 0.35,
  "privacy": 0.55,
  "freedom": 0.50,
  
  "fate": 0.65,
  "destiny": 0.60,
  "serendipity": 0.70,
  "entrepreneur": 0.75,
  
  "meticulous": 0.40,
  "pragmatic": 0.45,
  "verbose": 0.50
}
```

### chinese_stroke_data.json

```json
{
  "æ¡Œ": { "strokes": 10, "structure": "ä¸Šä¸‹", "frequency": 0.6 },
  "å­": { "strokes": 3, "structure": "ç‹¬ä½“", "frequency": 1.0 },
  "å‘½": { "strokes": 8, "structure": "å·¦å³", "frequency": 0.7 },
  "è¿": { "strokes": 11, "structure": "åŠåŒ…å›´", "frequency": 0.8 },
  "ç¼˜": { "strokes": 12, "structure": "å·¦å³", "frequency": 0.5 },
  "åˆ†": { "strokes": 4, "structure": "ä¸Šä¸‹", "frequency": 0.9 }
}
```

---

# 9. æŠ€æœ¯æ ˆä¸å®ç°å»ºè®®

## 9.1 æ¨èæŠ€æœ¯æ ˆ

### å‰ç«¯
```
- React 18+ (æ ¸å¿ƒæ¡†æ¶)
- TypeScript (ç±»å‹å®‰å…¨)
- Tailwind CSS (æ ·å¼)
- React Router (è·¯ç”±)
- Zustand (çŠ¶æ€ç®¡ç†ï¼Œè½»é‡)
- æˆ– Redux Toolkit (å¦‚æœéœ€è¦å¤æ‚çŠ¶æ€ç®¡ç†)
```

### æ•°æ®å­˜å‚¨
```
- IndexedDB (æµè§ˆå™¨æœ¬åœ°æ•°æ®åº“)
- ä½¿ç”¨ Dexie.js (IndexedDBå°è£…)
- JSONæ–‡ä»¶ (åˆå§‹è¯æ±‡æ•°æ®)
```

### è‹±æ–‡è§£é‡Šç”Ÿæˆ
```
é€‰é¡¹1ï¼šé¢„ç”Ÿæˆ (æ¨èPhase 1)
- æ‰‹åŠ¨ç¼–å†™å¸¸è§è¯è§£é‡Š
- å­˜å‚¨ä¸ºJSON

é€‰é¡¹2ï¼šAPIè°ƒç”¨ (Phase 2)
- Claude API
- OpenAI GPT-4
```

### NLPå·¥å…·ï¼ˆå¯é€‰ï¼‰
```
- compromise (å®¢æˆ·ç«¯NLPåº“)
- natural (Node.js NLPåº“)
- æˆ–ä½¿ç”¨å¤–éƒ¨API
```

---

## 9.2 é¡¹ç›®ç»“æ„

```
/language-learning-system
  /public
    index.html
    /data
      oxford_3000_a1a2.json
      oxford_3000_b1b2.json
      awl.json
      gre357.json
      fuzzy_groups.json
      ...
      
  /src
    /components
      /layout
        Navigation.tsx
        Layout.tsx
      /settings
        SettingsPage.tsx
        VocabListSelector.tsx
      /learning
        LearningModePage.tsx
        LearningSession.tsx
        ConceptCard.tsx
        FuzzyGroupCard.tsx
        FeedbackButtons.tsx
      /stats
        StatsPage.tsx
        ProgressChart.tsx
      /vocab
        VocabManagementPage.tsx
        ConceptList.tsx
        
    /lib
      /scoring
        meaningDistance.ts
        visualDistance.ts
        phoneticDistance.ts
        scoringEngine.ts
      /sequencing
        topicMode.ts
        mixedMode.ts
        graphTraversal.ts
      /data
        conceptManager.ts
        userDataManager.ts
        errorPoolManager.ts
      /utils
        chineseUtils.ts  # ç¬”ç”»ã€æ‹¼éŸ³å·¥å…·
        englishUtils.ts  # IPAã€éŸ³èŠ‚å·¥å…·
        
    /stores
      userStore.ts       # Zustand store
      sessionStore.ts
      conceptStore.ts
      
    /types
      concept.ts
      session.ts
      user.ts
      
    /hooks
      useSession.ts
      useConcepts.ts
      useUserProgress.ts
      
    App.tsx
    main.tsx
    
  /scripts
    processVocabData.js    # é¢„å¤„ç†è¯æ±‡æ•°æ®
    generateScores.js      # ç”Ÿæˆè¯„åˆ†æ•°æ®
    
  package.json
  tsconfig.json
  vite.config.ts
```

---

## 9.3 æ ¸å¿ƒæ¨¡å—å®ç°ç¤ºä¾‹

### 9.3.1 è¯„åˆ†å¼•æ“

```typescript
// src/lib/scoring/scoringEngine.ts

import { Concept, ScoringConfig } from '@/types';

export class ScoringEngine {
  private config: ScoringConfig;
  
  constructor(config: ScoringConfig) {
    this.config = config;
  }
  
  calculateOverallDistance(concept: Concept): number {
    const meaning = this.calculateMeaningDistance(concept);
    const visual = this.calculateVisualDistance(concept);
    const phonetic = this.calculatePhoneticDistance(concept);
    
    const { weights } = this.config;
    
    return (
      meaning * weights.meaning +
      visual * weights.visual +
      phonetic * weights.phonetic
    );
  }
  
  private calculateMeaningDistance(concept: Concept): number {
    if (concept.type === 'clear') {
      // æŸ¥æ‰¾é¢„æ ‡æ³¨æ•°æ®
      return this.getMeaningDistanceFromMap(concept.english);
    } else {
      // æ¨¡ç³Šè¯ç»„ï¼šè®¡ç®—æ‰€æœ‰é…å¯¹å¹³å‡
      return this.calculateFuzzyMeaningDistance(concept);
    }
  }
  
  private calculateVisualDistance(concept: Concept): number {
    if (concept.type === 'clear') {
      const chineseStrokes = this.getTotalStrokes(concept.chinese);
      const englishLetters = concept.english.length;
      
      const diff = Math.abs(chineseStrokes - englishLetters);
      return 1 - Math.exp(-diff / 10);
    } else {
      // æ¨¡ç³Šè¯ç»„å¹³å‡
      return this.calculateFuzzyVisualDistance(concept);
    }
  }
  
  private calculatePhoneticDistance(concept: Concept): number {
    // ç®€åŒ–ç‰ˆï¼šå›ºå®šé«˜å€¼
    // Phase 2å¯ä»¥å®ç°éŸ³ç´ å¯¹æ¯”
    return 0.80;
  }
  
  // ... æ›´å¤šæ–¹æ³•
}
```

### 9.3.2 æ··åˆæ¨¡å¼åºåˆ—ç”Ÿæˆ

```typescript
// src/lib/sequencing/mixedMode.ts

import { Concept, SessionConfig } from '@/types';

export class MixedModeSequencer {
  generateSequence(
    concepts: Concept[],
    config: SessionConfig
  ): Concept[] {
    // 1. æŒ‰éš¾åº¦åˆ†ç»„
    const grouped = this.groupByDifficulty(concepts);
    
    // 2. æŒ‰æ¯”ä¾‹é‡‡æ ·
    const samples = this.sampleByDistribution(grouped, config);
    
    // 3. æ„å»ºç›¸ä¼¼åº¦å›¾
    const graph = this.buildSimilarityGraph(samples);
    
    // 4. éå†å›¾
    const sequence = this.traverseGraph(graph, config);
    
    // 5. æ’å…¥é”™è¯¯è¯
    if (config.includeErrors) {
      return this.interlaceErrors(sequence, config);
    }
    
    return sequence;
  }
  
  private groupByDifficulty(concepts: Concept[]) {
    return {
      low: concepts.filter(c => c.scores.overallDistance < 0.33),
      medium: concepts.filter(c => 
        c.scores.overallDistance >= 0.33 && 
        c.scores.overallDistance < 0.66
      ),
      high: concepts.filter(c => c.scores.overallDistance >= 0.66)
    };
  }
  
  private buildSimilarityGraph(concepts: Concept[]) {
    const graph = new Map<string, Concept[]>();
    
    for (const concept of concepts) {
      const neighbors = concepts
        .filter(other => other.id !== concept.id)
        .filter(other => {
          const distDiff = Math.abs(
            concept.userScores.personalDistance - 
            other.userScores.personalDistance
          );
          return distDiff < 0.1;  // è·ç¦»å·®<0.1è§†ä¸ºç›¸ä¼¼
        })
        .sort((a, b) => {
          const diffA = Math.abs(
            concept.userScores.personalDistance - 
            a.userScores.personalDistance
          );
          const diffB = Math.abs(
            concept.userScores.personalDistance - 
            b.userScores.personalDistance
          );
          return diffA - diffB;
        });
      
      graph.set(concept.id, neighbors);
    }
    
    return graph;
  }
  
  // ... æ›´å¤šæ–¹æ³•
}
```

### 9.3.3 ç”¨æˆ·æ•°æ®ç®¡ç†

```typescript
// src/lib/data/userDataManager.ts

import Dexie, { Table } from 'dexie';

interface UserProgress {
  conceptId: string;
  personalDistance: number;
  feedbackHistory: Feedback[];
  lastReviewed: Date;
  reviewCount: number;
}

interface Feedback {
  timestamp: Date;
  rating: 'good' | 'normal' | 'bad';
}

class UserDatabase extends Dexie {
  progress!: Table<UserProgress, string>;
  
  constructor() {
    super('LanguageLearningDB');
    
    this.version(1).stores({
      progress: 'conceptId, lastReviewed'
    });
  }
}

export const db = new UserDatabase();

export async function updateUserProgress(
  conceptId: string,
  rating: 'good' | 'normal' | 'bad'
) {
  const existing = await db.progress.get(conceptId);
  
  if (existing) {
    existing.feedbackHistory.push({
      timestamp: new Date(),
      rating
    });
    existing.lastReviewed = new Date();
    existing.reviewCount++;
    
    // è°ƒæ•´ä¸ªäººåŒ–è·ç¦»
    if (rating === 'good') {
      existing.personalDistance *= 0.9;  // é™ä½10%
    } else if (rating === 'bad') {
      existing.personalDistance *= 1.1;  // æé«˜10%
    }
    
    await db.progress.put(existing);
  } else {
    // é¦–æ¬¡åé¦ˆ
    await db.progress.add({
      conceptId,
      personalDistance: getInitialDistance(conceptId),
      feedbackHistory: [{
        timestamp: new Date(),
        rating
      }],
      lastReviewed: new Date(),
      reviewCount: 1
    });
  }
}
```

---

## 9.4 å¼€å‘é˜¶æ®µå»ºè®®

### Phase 1: æœ€å°å¯ç”¨ç‰ˆæœ¬ (MVP)
**æ—¶é—´**: 2-3å‘¨

**åŠŸèƒ½**:
- åŸºç¡€UIï¼ˆè®¾ç½®ã€å­¦ä¹ ã€ç»Ÿè®¡ï¼‰
- æ¸…æ™°æ¦‚å¿µå­¦ä¹ æµç¨‹
- ä¸»é¢˜æ¨¡å¼
- ç®€åŒ–è¯„åˆ†ç³»ç»Ÿï¼ˆé¢„æ ‡æ³¨æ•°æ®ï¼‰
- æœ¬åœ°å­˜å‚¨ï¼ˆIndexedDBï¼‰

**ä¸åŒ…å«**:
- æ¨¡ç³Šè¯ç»„äº¤äº’
- æ··åˆæ¨¡å¼
- åŠ¨æ€è‹±æ–‡è§£é‡Šç”Ÿæˆ

---

### Phase 2: å®Œæ•´æ ¸å¿ƒåŠŸèƒ½
**æ—¶é—´**: 3-4å‘¨

**æ–°å¢**:
- æ¨¡ç³Šè¯ç»„å®Œæ•´äº¤äº’
- æ··åˆæ¨¡å¼å›¾éå†
- é”™è¯¯è¯å¤ä¹ æœºåˆ¶
- è‡ªé€‚åº”æ°´å¹³ç³»ç»Ÿ
- æ”¹è¿›è¯„åˆ†ç®—æ³•ï¼ˆå«ä¹‰ã€è§†è§‰ã€è¯»éŸ³ï¼‰

---

### Phase 3: ä¼˜åŒ–ä¸æ‰©å±•
**æ—¶é—´**: æŒç»­è¿­ä»£

**æ–°å¢**:
- è‹±æ–‡è§£é‡ŠAPIç”Ÿæˆ
- é«˜çº§ç»Ÿè®¡åˆ†æ
- ç•ªèŒ„é’Ÿ
- æ•°æ®å¯¼å‡º/å¯¼å…¥
- å¤šç”¨æˆ·æ”¯æŒï¼ˆå¯é€‰ï¼‰
- ç§»åŠ¨ç«¯é€‚é…

---

## 9.5 æµ‹è¯•ç­–ç•¥

### å•å…ƒæµ‹è¯•
```typescript
// æµ‹è¯•è¯„åˆ†ç³»ç»Ÿ
describe('ScoringEngine', () => {
  it('should calculate correct visual distance', () => {
    const concept = {
      english: 'table',
      chinese: ['æ¡Œå­']
    };
    const distance = scoringEngine.calculateVisualDistance(concept);
    expect(distance).toBeCloseTo(0.73, 1);
  });
});
```

### é›†æˆæµ‹è¯•
- æµ‹è¯•å®Œæ•´å­¦ä¹ æµç¨‹
- æµ‹è¯•æ•°æ®æŒä¹…åŒ–
- æµ‹è¯•åºåˆ—ç”Ÿæˆç®—æ³•

### ç”¨æˆ·æµ‹è¯•
- æ‰¾5-10ä¸ªä¸­æ–‡æ¯è¯­è‹±è¯­å­¦ä¹ è€…
- è®©ä»–ä»¬ä½¿ç”¨ç³»ç»Ÿ1-2å‘¨
- æ”¶é›†åé¦ˆè°ƒæ•´

---

## 9.6 æ€§èƒ½ä¼˜åŒ–

### æ•°æ®åŠ è½½
- è¯æ±‡æ•°æ®æ‡’åŠ è½½
- ä»…åŠ è½½å¯ç”¨çš„è¯æ±‡è¡¨
- è¯„åˆ†æ•°æ®ç¼“å­˜

### æ¸²æŸ“ä¼˜åŒ–
- React.memoé˜²æ­¢ä¸å¿…è¦æ¸²æŸ“
- è™šæ‹Ÿæ»šåŠ¨ï¼ˆå¤§åˆ—è¡¨ï¼‰
- åŠ¨ç”»ä½¿ç”¨CSSè€ŒéJS

### å­˜å‚¨ä¼˜åŒ–
- IndexedDBæ‰¹é‡å†™å…¥
- å®šæœŸæ¸…ç†æ—§æ•°æ®
- å‹ç¼©JSONæ•°æ®

---

**æ–‡æ¡£å®Œæˆï¼**
**æ–‡ä»¶å°†è¢«æ•´åˆåˆ°ä¸€ä¸ªå®Œæ•´çš„åŒ…ä¸­ã€‚**
