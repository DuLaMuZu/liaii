<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¯­è¨€æ–‡åŒ–æ„Ÿå—ç³»ç»Ÿ - Feel Language, Don't Translate</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #667eea;
            --secondary: #764ba2;
            --bg-gradient-start: #667eea;
            --bg-gradient-end: #764ba2;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: #0f0f1e;
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* èƒŒæ™¯åŠ¨ç”» */
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            opacity: 0.9;
        }

        .animated-bg::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: moveBackground 20s linear infinite;
        }

        @keyframes moveBackground {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        /* ä¸»å®¹å™¨ */
        .main-container {
            position: relative;
            z-index: 1;
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* å¤´éƒ¨æ ‡é¢˜ */
        .header {
            text-align: center;
            margin-bottom: 60px;
            animation: fadeInDown 1s;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .main-title {
            font-size: 48px;
            font-weight: 900;
            margin-bottom: 15px;
            text-shadow: 0 4px 20px rgba(0,0,0,0.3);
            letter-spacing: 2px;
        }

        .philosophy-text {
            font-size: 22px;
            font-weight: 300;
            opacity: 0.95;
            font-style: italic;
            margin-bottom: 30px;
        }

        .core-message {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(20px);
            padding: 30px 40px;
            border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.2);
            max-width: 800px;
            margin: 0 auto;
            font-size: 18px;
            line-height: 1.8;
        }

        /* æ¦‚å¿µå¡ç‰‡ - å…¨å±æ²‰æµ¸å¼ */
        .concept-immersion {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 100;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        }

        .concept-immersion.active {
            display: flex;
            flex-direction: column;
            animation: immersionEnter 0.8s ease-out;
        }

        @keyframes immersionEnter {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* è¿›åº¦æŒ‡ç¤ºå™¨ */
        .immersion-header {
            padding: 25px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
        }

        .progress-text {
            font-size: 16px;
            font-weight: 600;
            opacity: 0.9;
        }

        .close-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .close-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.05);
        }

        /* æ„Ÿå—å®¹å™¨ */
        .feeling-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 60px;
            overflow-y: auto;
        }

        /* è¯æ±‡å±•ç¤º - å¤§æ°”çš„ */
        .word-hero {
            text-align: center;
            margin-bottom: 60px;
            animation: wordFloat 3s ease-in-out infinite;
        }

        @keyframes wordFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .word-english-hero {
            font-size: 80px;
            font-weight: 900;
            letter-spacing: 4px;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #fff, #a8b2ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(255,255,255,0.3);
        }

        .word-chinese-hero {
            font-size: 48px;
            font-weight: 600;
            opacity: 0.9;
            letter-spacing: 8px;
        }

        /* æ–‡åŒ–åœºæ™¯åˆ‡æ¢ */
        .cultural-switch {
            display: grid;
            grid-template-columns: 1fr 100px 1fr;
            gap: 30px;
            margin-bottom: 60px;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }

        .culture-panel {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 40px;
            border: 2px solid rgba(255,255,255,0.2);
            transition: all 0.4s;
            cursor: pointer;
            min-height: 300px;
            display: flex;
            flex-direction: column;
        }

        .culture-panel:hover {
            transform: translateY(-10px);
            border-color: rgba(255,255,255,0.4);
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .culture-panel.active {
            background: rgba(255,255,255,0.2);
            border-color: white;
            transform: scale(1.05);
        }

        .culture-flag {
            font-size: 48px;
            margin-bottom: 20px;
            text-align: center;
        }

        .culture-name {
            font-size: 20px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 25px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .culture-feeling {
            flex: 1;
            font-size: 17px;
            line-height: 1.9;
            opacity: 0.9;
        }

        .culture-context {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.2);
            font-style: italic;
            opacity: 0.8;
            font-size: 15px;
        }

        .switch-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            opacity: 0.6;
            animation: switchPulse 2s ease-in-out infinite;
        }

        @keyframes switchPulse {
            0%, 100% { opacity: 0.6; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        /* æ„Ÿå—æç¤º */
        .feeling-prompt {
            text-align: center;
            margin-bottom: 40px;
        }

        .prompt-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 15px;
            opacity: 0.95;
        }

        .prompt-subtitle {
            font-size: 16px;
            opacity: 0.7;
            font-style: italic;
        }

        /* æƒ…å¢ƒå¡ç‰‡ */
        .scenario-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 60px;
        }

        .scenario-card {
            background: rgba(255,255,255,0.08);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 30px;
            border: 1px solid rgba(255,255,255,0.15);
            transition: all 0.3s;
            cursor: pointer;
        }

        .scenario-card:hover {
            background: rgba(255,255,255,0.12);
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }

        .scenario-icon {
            font-size: 36px;
            margin-bottom: 15px;
        }

        .scenario-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .scenario-text {
            font-size: 15px;
            line-height: 1.7;
            opacity: 0.85;
        }

        /* æ„Ÿå—è¯„ä¼° */
        .feeling-assessment {
            max-width: 800px;
            margin: 0 auto;
        }

        .assessment-title {
            text-align: center;
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 30px;
        }

        .assessment-options {
            display: grid;
            gap: 20px;
        }

        .assessment-option {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(15px);
            border-radius: 16px;
            padding: 30px 35px;
            border: 2px solid rgba(255,255,255,0.2);
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .assessment-option:hover {
            background: rgba(255,255,255,0.15);
            border-color: rgba(255,255,255,0.4);
            transform: translateX(10px);
        }

        .option-emoji {
            font-size: 40px;
            flex-shrink: 0;
        }

        .option-content {
            flex: 1;
        }

        .option-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .option-desc {
            font-size: 14px;
            opacity: 0.8;
            line-height: 1.6;
        }

        /* å¼€å§‹æŒ‰é’® */
        .start-experience-btn {
            background: linear-gradient(135deg, rgba(255,255,255,0.2), rgba(255,255,255,0.1));
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255,255,255,0.3);
            color: white;
            padding: 20px 50px;
            font-size: 20px;
            font-weight: 700;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.4s;
            margin: 40px auto;
            display: block;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .start-experience-btn:hover {
            background: linear-gradient(135deg, rgba(255,255,255,0.3), rgba(255,255,255,0.2));
            border-color: white;
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
        }

        /* å“åº”å¼ */
        @media (max-width: 968px) {
            .cultural-switch {
                grid-template-columns: 1fr;
                grid-template-rows: auto 60px auto;
            }

            .switch-icon {
                transform: rotate(90deg);
            }

            .word-english-hero {
                font-size: 56px;
            }

            .word-chinese-hero {
                font-size: 32px;
            }

            .feeling-container {
                padding: 30px 20px;
            }
        }

        @media (max-width: 640px) {
            .main-title {
                font-size: 32px;
            }

            .philosophy-text {
                font-size: 16px;
            }

            .core-message {
                font-size: 15px;
                padding: 20px 25px;
            }

            .scenario-cards {
                grid-template-columns: 1fr;
            }
        }

        /* éšè—ç±» */
        .hidden {
            display: none !important;
        }

        /* è¿›å…¥æŒ‰é’®åŠ¨ç”» */
        @keyframes btnPulse {
            0%, 100% {
                box-shadow: 0 0 0 0 rgba(255,255,255,0.7);
            }
            50% {
                box-shadow: 0 0 0 20px rgba(255,255,255,0);
            }
        }

        .start-experience-btn {
            animation: btnPulse 2s infinite;
        }
    </style>
</head>
<body>
    <div class="animated-bg"></div>

    <div class="main-container">
        <!-- æ¬¢è¿é¡µé¢ -->
        <div id="welcomePage">
            <header class="header">
                <h1 class="main-title">ğŸŒ è¯­è¨€æ–‡åŒ–æ„Ÿå—ç³»ç»Ÿ</h1>
                <p class="philosophy-text">"Feel the Language, Don't Translate It"</p>

                <div class="core-message">
                    <p style="margin-bottom: 15px;">
                        <strong>è¯­è¨€ä¸æ˜¯ç¿»è¯‘ï¼Œæ˜¯æ„Ÿå—ã€‚</strong>
                    </p>
                    <p style="margin-bottom: 15px;">
                        æ¯ä¸ªè¯æ±‡èƒŒåï¼Œéƒ½æ˜¯ä¸€æ•´ä¸ªæ–‡åŒ–ä¸–ç•Œçš„æŠ•å°„ã€‚åŒä¸€ä¸ªè¯ï¼Œåœ¨ä¸åŒæ–‡åŒ–ä¸­å”¤èµ·çš„æƒ…æ„Ÿã€è”æƒ³ã€ä½¿ç”¨åœºæ™¯å®Œå…¨ä¸åŒã€‚
                    </p>
                    <p>
                        è¿™ä¸ªç³»ç»Ÿä¸æ•™ä½ ç¿»è¯‘ï¼Œè€Œæ˜¯å¸¦ä½ <strong>æ„Ÿå—</strong>â€”â€”æ„Ÿå—è¯æ±‡åœ¨ä¸œè¥¿æ–¹æ–‡åŒ–ä¸­çš„ä¸åŒæ„å¢ƒï¼Œ
                        ç†è§£ä¸ºä»€ä¹ˆåŒä¸€ä¸ªæ¦‚å¿µåœ¨ä¸åŒæ–‡åŒ–ä¸­æœ‰ä¸åŒçš„è¡¨è¾¾æ–¹å¼ï¼Œä½“ä¼šè¯­è¨€èƒŒåçš„æ–‡åŒ–æƒ…æ„Ÿã€‚
                    </p>
                </div>
            </header>

            <button class="start-experience-btn" onclick="startExperience()">
                å¼€å§‹æ„Ÿå—ä¹‹æ—…
            </button>
        </div>

        <!-- æ²‰æµ¸å¼æ„Ÿå—ç•Œé¢ -->
        <div class="concept-immersion" id="immersionView">
            <div class="immersion-header">
                <div class="progress-text">
                    <span id="currentIdx">1</span> / <span id="totalConcepts">10</span> ä¸ªæ–‡åŒ–æ¦‚å¿µ
                </div>
                <button class="close-btn" onclick="closeImmersion()">ç»“æŸä½“éªŒ</button>
            </div>

            <div class="feeling-container">
                <!-- è¯æ±‡è‹±é›„å±•ç¤º -->
                <div class="word-hero">
                    <div class="word-english-hero" id="heroEnglish">LOVE</div>
                    <div class="word-chinese-hero" id="heroChinese">çˆ± / å–œçˆ± / çƒ­çˆ±</div>
                </div>

                <!-- æ„Ÿå—æç¤º -->
                <div class="feeling-prompt">
                    <div class="prompt-title">ğŸ’­ æ„Ÿå—è¿™ä¸ªè¯åœ¨ä¸åŒæ–‡åŒ–ä¸­çš„æ„å¢ƒ</div>
                    <div class="prompt-subtitle">ç‚¹å‡»å·¦å³é¢æ¿ï¼Œåˆ‡æ¢æ–‡åŒ–è§†è§’ï¼Œæ„Ÿå—åŒä¸€ä¸ªè¯çš„ä¸åŒæƒ…æ„Ÿè‰²å½©</div>
                </div>

                <!-- æ–‡åŒ–åˆ‡æ¢é¢æ¿ -->
                <div class="cultural-switch">
                    <!-- è¥¿æ–¹æ–‡åŒ–è§†è§’ -->
                    <div class="culture-panel" id="westernPanel" onclick="switchCulture('western')">
                        <div class="culture-flag">ğŸ‡ºğŸ‡¸</div>
                        <div class="culture-name">Western Perspective</div>
                        <div class="culture-feeling" id="westernFeeling">
                            åœ¨è¥¿æ–¹æ–‡åŒ–ä¸­ï¼Œ"love"æ˜¯ä¸€ä¸ªä½¿ç”¨é¢‘ç‡æé«˜çš„è¯ã€‚ä»"I love you"åˆ°"I love coffee"ï¼Œ
                            å®ƒå¯ä»¥è¡¨è¾¾å¯¹äººçš„æ·±æƒ…ï¼Œä¹Ÿå¯ä»¥è¡¨è¾¾å¯¹äº‹ç‰©çš„å–œçˆ±ã€‚

                            è¥¿æ–¹æ–‡åŒ–é¼“åŠ±ç›´æ¥è¡¨è¾¾æƒ…æ„Ÿï¼Œ"love"æˆä¸ºæ—¥å¸¸äº¤æµçš„ä¸€éƒ¨åˆ†ã€‚è¯´"I love you"æ˜¯è‡ªç„¶çš„ã€
                            é¢‘ç¹çš„ï¼Œç”šè‡³åœ¨æœ‹å‹ä¹‹é—´ä¹Ÿä¼šè½»æ¾ä½¿ç”¨ã€‚
                        </div>
                        <div class="culture-context">
                            ğŸ’¬ ä½¿ç”¨åœºæ™¯ï¼šä»»ä½•ä½ å–œæ¬¢çš„äººã€äº‹ã€ç‰©
                        </div>
                    </div>

                    <div class="switch-icon">â‡„</div>

                    <!-- ä¸œæ–¹æ–‡åŒ–è§†è§’ -->
                    <div class="culture-panel" id="easternPanel" onclick="switchCulture('eastern')">
                        <div class="culture-flag">ğŸ‡¨ğŸ‡³</div>
                        <div class="culture-name">Eastern Perspective</div>
                        <div class="culture-feeling" id="easternFeeling">
                            åœ¨ä¸œæ–¹æ–‡åŒ–ä¸­ï¼Œ"çˆ±"æ˜¯ä¸€ä¸ªåˆ†é‡å¾ˆé‡çš„å­—ã€‚æˆ‘ä»¬æ›´å¤šç”¨"å–œæ¬¢"æ¥è¡¨è¾¾å¯¹äº‹ç‰©çš„å–œçˆ±ï¼Œ
                            è€Œ"çˆ±"é€šå¸¸ä¿ç•™ç»™æœ€é‡è¦çš„äººå’Œäº‹ã€‚

                            ä¸œæ–¹æ–‡åŒ–çš„æƒ…æ„Ÿè¡¨è¾¾æ›´å«è“„ã€‚"çˆ±"æ›´å¤šé€šè¿‡è¡ŒåŠ¨è€Œéè¯­è¨€æ¥è¡¨è¾¾ã€‚ç›´æ¥è¯´"æˆ‘çˆ±ä½ "
                            å¯èƒ½è®©äººæ„Ÿåˆ°å®³ç¾æˆ–ä¸¥è‚ƒï¼Œæˆ‘ä»¬æ›´ä¹ æƒ¯ç”¨"å…³å¿ƒ"ã€"åœ¨ä¹"ç­‰è¯ã€‚
                        </div>
                        <div class="culture-context">
                            ğŸ’¬ ä½¿ç”¨åœºæ™¯ï¼šå®¶äººã€çˆ±äººã€æå…¶é‡è¦çš„äº‹ç‰©
                        </div>
                    </div>
                </div>

                <!-- æƒ…å¢ƒä½“éªŒå¡ç‰‡ -->
                <div class="scenario-cards">
                    <div class="scenario-card">
                        <div class="scenario-icon">â˜•</div>
                        <div class="scenario-title">æƒ…å¢ƒä¸€ï¼šå’–å•¡é¦†</div>
                        <div class="scenario-text">
                            è¥¿æ–¹ï¼š"I love this coffee!"ï¼ˆè‡ªç„¶ã€éšæ„ï¼‰<br>
                            ä¸œæ–¹ï¼š"æˆ‘å¾ˆå–œæ¬¢è¿™ä¸ªå’–å•¡ã€‚"ï¼ˆç”¨"å–œæ¬¢"è€Œé"çˆ±"ï¼‰
                        </div>
                    </div>

                    <div class="scenario-card">
                        <div class="scenario-icon">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§</div>
                        <div class="scenario-title">æƒ…å¢ƒäºŒï¼šå®¶åº­èšä¼š</div>
                        <div class="scenario-text">
                            è¥¿æ–¹ï¼š"I love you, Mom!"ï¼ˆå¸¸å¸¸è¯´å‡ºå£ï¼‰<br>
                            ä¸œæ–¹ï¼šæ›´å¤šé€šè¿‡è¡ŒåŠ¨è¡¨è¾¾ï¼Œè¯´"å¦ˆå¦ˆæˆ‘çˆ±ä½ "å¯èƒ½æ„Ÿåˆ°å®³ç¾
                        </div>
                    </div>

                    <div class="scenario-card">
                        <div class="scenario-icon">ğŸµ</div>
                        <div class="scenario-title">æƒ…å¢ƒä¸‰ï¼šéŸ³ä¹çˆ±å¥½</div>
                        <div class="scenario-text">
                            è¥¿æ–¹ï¼š"I love rock music!"<br>
                            ä¸œæ–¹ï¼š"æˆ‘å¾ˆå–œæ¬¢æ‘‡æ»šä¹"æˆ–"æˆ‘çƒ­çˆ±æ‘‡æ»šä¹"ï¼ˆåŒºåˆ†ç¨‹åº¦ï¼‰
                        </div>
                    </div>
                </div>

                <!-- æ„Ÿå—è¯„ä¼° -->
                <div class="feeling-assessment">
                    <div class="assessment-title">ğŸ¯ æ‚¨æ„Ÿå—åˆ°æ–‡åŒ–å·®å¼‚äº†å—ï¼Ÿ</div>
                    <div class="assessment-options">
                        <div class="assessment-option" onclick="assessFeeling('deep')">
                            <div class="option-emoji">âœ¨</div>
                            <div class="option-content">
                                <div class="option-title">æ·±åˆ»æ„Ÿå—åˆ°äº†</div>
                                <div class="option-desc">
                                    æˆ‘ç†è§£äº†è¿™ä¸ªè¯åœ¨ä¸¤ç§æ–‡åŒ–ä¸­å®Œå…¨ä¸åŒçš„æƒ…æ„Ÿè‰²å½©å’Œä½¿ç”¨æ–¹å¼ï¼Œ
                                    æ„Ÿå—åˆ°äº†æ–‡åŒ–èƒŒæ™¯å¯¹è¯­è¨€ä½¿ç”¨çš„æ·±åˆ»å½±å“
                                </div>
                            </div>
                        </div>

                        <div class="assessment-option" onclick="assessFeeling('understood')">
                            <div class="option-emoji">ğŸ’¡</div>
                            <div class="option-content">
                                <div class="option-title">æœ‰æ‰€æ„Ÿæ‚Ÿ</div>
                                <div class="option-desc">
                                    æˆ‘ç†è§£äº†åŸºæœ¬çš„æ–‡åŒ–å·®å¼‚ï¼Œèƒ½å¤Ÿå¯Ÿè§‰åˆ°ä½¿ç”¨åœºæ™¯çš„ä¸åŒï¼Œ
                                    ä½†è¿˜éœ€è¦æ›´å¤šå®é™…ä½“éªŒæ¥æ·±åŒ–æ„Ÿå—
                                </div>
                            </div>
                        </div>

                        <div class="assessment-option" onclick="assessFeeling('exploring')">
                            <div class="option-emoji">ğŸ”</div>
                            <div class="option-content">
                                <div class="option-title">åˆæ­¥æ¢ç´¢</div>
                                <div class="option-desc">
                                    æˆ‘å¯Ÿè§‰åˆ°äº†ä¸€äº›å·®å¼‚ï¼Œä½†è¿˜éœ€è¦æ›´å¤šè§’åº¦æ¥ç†è§£è¿™ä¸ªè¯çš„æ–‡åŒ–å†…æ¶µ
                                </div>
                            </div>
                        </div>

                        <div class="assessment-option" onclick="assessFeeling('need-more')">
                            <div class="option-emoji">ğŸŒ±</div>
                            <div class="option-content">
                                <div class="option-title">éœ€è¦æ›´å¤šæ„Ÿå—</div>
                                <div class="option-desc">
                                    æˆ‘è¿˜æ²¡æœ‰å®Œå…¨ç†è§£ï¼Œå¸Œæœ›é€šè¿‡æ›´å¤šå®ä¾‹å’Œæƒ…å¢ƒæ¥åŠ æ·±æ„Ÿå—
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="enhanced-data.js"></script>
    <script>
        // åº”ç”¨çŠ¶æ€
        let currentConceptIndex = 0;
        let selectedConcepts = [];
        let feelingResults = {
            deep: 0,
            understood: 0,
            exploring: 0,
            needMore: 0
        };

        // å¼€å§‹ä½“éªŒ
        function startExperience() {
            // é€‰æ‹©10-15ä¸ªè¯æ±‡ç”¨äºä½“éªŒ
            selectedConcepts = enhancedVocabularyData
                .filter(w => w.totalDistance > 0.3) // é€‰æ‹©æœ‰æ–‡åŒ–å·®å¼‚çš„è¯
                .sort(() => Math.random() - 0.5)
                .slice(0, 10);

            currentConceptIndex = 0;

            // æ˜¾ç¤ºæ²‰æµ¸å¼ç•Œé¢
            document.getElementById('welcomePage').classList.add('hidden');
            document.getElementById('immersionView').classList.add('active');
            document.getElementById('totalConcepts').textContent = selectedConcepts.length;

            // æ˜¾ç¤ºç¬¬ä¸€ä¸ªæ¦‚å¿µ
            showCurrentConcept();
        }

        // æ˜¾ç¤ºå½“å‰æ¦‚å¿µ
        function showCurrentConcept() {
            const concept = selectedConcepts[currentConceptIndex];

            // æ›´æ–°è¿›åº¦
            document.getElementById('currentIdx').textContent = currentConceptIndex + 1;

            // æ›´æ–°è¯æ±‡å±•ç¤º
            document.getElementById('heroEnglish').textContent = concept.english.toUpperCase();
            document.getElementById('heroChinese').textContent = concept.chinese.join(' / ');

            // ç”Ÿæˆæ–‡åŒ–æ„Ÿå—å†…å®¹
            generateCulturalFeelings(concept);

            // ç”Ÿæˆæƒ…å¢ƒå¡ç‰‡
            generateScenarios(concept);

            // é‡ç½®æ–‡åŒ–é¢æ¿é€‰æ‹©
            document.querySelectorAll('.culture-panel').forEach(p => p.classList.remove('active'));
        }

        // ç”Ÿæˆæ–‡åŒ–æ„Ÿå—
        function generateCulturalFeelings(concept) {
            // è¥¿æ–¹è§†è§’
            const westernFeeling = `
                åœ¨è¥¿æ–¹æ–‡åŒ–ä¸­ï¼Œ"${concept.english}"${getWesternPerspective(concept)}

                è¿™åæ˜ äº†è¥¿æ–¹æ–‡åŒ–${getWesternCulturalTrait(concept)}çš„ç‰¹ç‚¹ã€‚
            `;

            // ä¸œæ–¹è§†è§’
            const easternFeeling = `
                åœ¨ä¸œæ–¹æ–‡åŒ–ä¸­ï¼Œ"${concept.chinese[0]}"${getEasternPerspective(concept)}

                è¿™ä½“ç°äº†ä¸œæ–¹æ–‡åŒ–${getEasternCulturalTrait(concept)}çš„ä¼ ç»Ÿã€‚
            `;

            document.getElementById('westernFeeling').textContent = westernFeeling;
            document.getElementById('easternFeeling').textContent = easternFeeling;
        }

        // è·å–è¥¿æ–¹æ–‡åŒ–ç‰¹å¾æè¿°
        function getWesternPerspective(concept) {
            if (concept.meaningDistance > 0.5) {
                return 'çš„ä½¿ç”¨æ›´åŠ ç›´æ¥å’Œå¤–æ˜¾ï¼Œå¼ºè°ƒä¸ªäººæ„Ÿå—çš„è¡¨è¾¾ã€‚';
            } else if (concept.meaningDistance > 0.3) {
                return 'åœ¨æ—¥å¸¸äº¤æµä¸­ä½¿ç”¨é¢‘ç‡è¾ƒé«˜ï¼Œè¡¨è¾¾ç›¸å¯¹ç›´æ¥ã€‚';
            }
            return 'çš„æ¦‚å¿µç›¸å¯¹æ¸…æ™°ï¼Œä½¿ç”¨åœºæ™¯æ˜ç¡®ã€‚';
        }

        function getWesternCulturalTrait(concept) {
            if (concept.meaningDistance > 0.5) {
                return 'é‡è§†ä¸ªäººè¡¨è¾¾å’Œæƒ…æ„Ÿå¤–æ˜¾';
            }
            return 'æ³¨é‡æ¸…æ™°æ²Ÿé€š';
        }

        // è·å–ä¸œæ–¹æ–‡åŒ–ç‰¹å¾æè¿°
        function getEasternPerspective(concept) {
            if (concept.meaningDistance > 0.5) {
                return 'çš„ä½¿ç”¨æ›´åŠ è°¨æ…å’Œå«è“„ï¼Œå¾€å¾€æ‰¿è½½ç€æ·±å±‚çš„æ–‡åŒ–æ„ä¹‰ã€‚';
            } else if (concept.meaningDistance > 0.3) {
                return 'åœ¨è¡¨è¾¾æ—¶æ›´æ³¨é‡è¯­å¢ƒå’Œå…³ç³»ï¼Œæœ‰ç»†å¾®çš„ä½¿ç”¨å·®å¼‚ã€‚';
            }
            return 'çš„ç†è§£ç›¸å¯¹ç›´æ¥ï¼Œä½†ä½¿ç”¨æ—¶ä»æœ‰æ–‡åŒ–è€ƒé‡ã€‚';
        }

        function getEasternCulturalTrait(concept) {
            if (concept.meaningDistance > 0.5) {
                return 'é‡è§†å«è“„è¡¨è¾¾å’Œå…³ç³»å’Œè°';
            }
            return 'æ³¨é‡è¯­å¢ƒç†è§£';
        }

        // ç”Ÿæˆæƒ…å¢ƒå¡ç‰‡ï¼ˆåŠ¨æ€ç”Ÿæˆï¼‰
        function generateScenarios(concept) {
            // è¿™é‡Œå¯ä»¥æ ¹æ®è¯æ±‡ç±»å‹ç”Ÿæˆä¸åŒçš„æƒ…å¢ƒ
            // å½“å‰ä½¿ç”¨é»˜è®¤æƒ…å¢ƒï¼Œå®é™…åº”ç”¨ä¸­å¯ä»¥ä¸ºæ¯ä¸ªè¯å®šåˆ¶
        }

        // åˆ‡æ¢æ–‡åŒ–è§†è§’
        function switchCulture(culture) {
            document.querySelectorAll('.culture-panel').forEach(p => {
                p.classList.remove('active');
            });

            if (culture === 'western') {
                document.getElementById('westernPanel').classList.add('active');
            } else {
                document.getElementById('easternPanel').classList.add('active');
            }
        }

        // æ„Ÿå—è¯„ä¼°
        function assessFeeling(level) {
            feelingResults[level]++;

            // è¿›å…¥ä¸‹ä¸€ä¸ªæ¦‚å¿µ
            currentConceptIndex++;

            if (currentConceptIndex >= selectedConcepts.length) {
                // ä½“éªŒå®Œæˆ
                showFeelingResults();
            } else {
                // æ˜¾ç¤ºä¸‹ä¸€ä¸ªæ¦‚å¿µ
                showCurrentConcept();

                // æ»šåŠ¨åˆ°é¡¶éƒ¨
                document.querySelector('.feeling-container').scrollTop = 0;
            }
        }

        // æ˜¾ç¤ºæ„Ÿå—ç»“æœ
        function showFeelingResults() {
            const total = selectedConcepts.length;
            const deepPercent = ((feelingResults.deep / total) * 100).toFixed(0);

            alert(`ğŸ‰ æ–‡åŒ–æ„Ÿå—ä¹‹æ—…å®Œæˆï¼\n\n` +
                  `æ·±åˆ»æ„Ÿå—ï¼š${feelingResults.deep} ä¸ªæ¦‚å¿µ (${deepPercent}%)\n` +
                  `æœ‰æ‰€æ„Ÿæ‚Ÿï¼š${feelingResults.understood} ä¸ªæ¦‚å¿µ\n` +
                  `åˆæ­¥æ¢ç´¢ï¼š${feelingResults.exploring} ä¸ªæ¦‚å¿µ\n` +
                  `éœ€è¦æ›´å¤šæ„Ÿå—ï¼š${feelingResults.needMore} ä¸ªæ¦‚å¿µ\n\n` +
                  `è¯­è¨€å­¦ä¹ ä¸æ˜¯ç¿»è¯‘å¯¹åº”ï¼Œè€Œæ˜¯æ–‡åŒ–æ„Ÿå—ã€‚\n` +
                  `ç»§ç»­æ¢ç´¢ï¼Œæ„Ÿå—æ›´å¤šæ–‡åŒ–å·®å¼‚ï¼`);

            // é‡ç½®å›æ¬¢è¿é¡µé¢
            closeImmersion();
        }

        // å…³é—­æ²‰æµ¸å¼ç•Œé¢
        function closeImmersion() {
            document.getElementById('immersionView').classList.remove('active');
            document.getElementById('welcomePage').classList.remove('hidden');

            // é‡ç½®çŠ¶æ€
            currentConceptIndex = 0;
            feelingResults = {
                deep: 0,
                understood: 0,
                exploring: 0,
                needMore: 0
            };
        }
    </script>
</body>
</html>
